if(typeof console=="undefined"||typeof console.log=="undefined"){var console={log:function(){}}}if(typeof me2p=="undefined"){me2p={}}if(typeof me2p_config_charset=="undefined"){me2p_config_charset="utf-8"}if(typeof me2p_config_isMobile=="undefined"){me2p_config_isMobile=false}if(typeof me2p_config_autoRender=="undefined"){me2p_config_autoRender=false}if(typeof me2p_config_loginProxyDomain=="undefined"){me2p_config_loginProxyDomain="plugin.me2day.net"}if(typeof me2p_config_debug=="undefined"){me2p_config_debug=false}me2p.ElementClassNames={BUTTON_CONTAINER:"me2button_container",BUTTON:"me2button_button",COUNT_BUBBLE:"me2button_count_bubble",COUNT:"me2button_count",DIALOG:"me2button_layer",DIALOG_MESSAGE:"me2button_layer_message",DIALOG_SIGNIN:"me2button_layer_signin",DIALOG_CLOSE:"me2button_layer_close",DIALOG_WRITE_FORM:"me2button_post_write_form",DIALOG_PROFILE_IMG:"me2button_profile_img",DIALOG_WRITE_INPUT:"me2button_write_input",DIALOG_PINGBACK_CHECKBOX:"me2button_pingback_checkbox",DIALOG_TEXT_LENGTH:"me2button_text_length",DIALOG_SUBMIT_BUTTON:"me2button_submit_button",LAYER_INFO_LINK:"me2button_layer_info_link"};me2p.AttributeNames={URL:"href",PLUGIN_KEY:"plugin_key",BEFORE_METOO_CLASS:"before_metoo_class",LOADING_METOO_CLASS:"loading_metoo_class",AFTER_METOO_CLASS:"after_metoo_class",DIALOG_ICON_CLASS_SUCCESS:"success_icon_class",DIALOG_ICON_CLASS_ERROR:"error_icon_class"};if(!window.console){window.console={};console.log=function(){};console.warn=function(){};console.error=function(){}}me2p.log=function(b){if(me2p_config_debug){console.log(b)}};(function(){var H=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,M="sizcache"+(Math.random()+"").replace(".",""),G=0,D=Object.prototype.toString,N=false,O=true,E=/\\/g,A=/\r\n/g,y=/\W/;[0,0].sort(function(){O=false;return 0});var Q=function(c,h,t,s){t=t||[];h=h||document;var q=h;if(h.nodeType!==1&&h.nodeType!==9){return[]}if(!c||typeof c!=="string"){return t}var m,o,g,n,p,j,l,u,d=true,f=Q.isXML(h),b=[],r=c;do{H.exec("");m=H.exec(r);if(m){r=m[3];b.push(m[1]);if(m[2]){n=m[3];break}}}while(m);if(b.length>1&&L.exec(c)){if(b.length===2&&K.relative[b[0]]){o=C(b[0]+b[1],h,s)}else{o=K.relative[b[0]]?[h]:Q(b.shift(),h);while(b.length){c=b.shift();if(K.relative[c]){c+=b.shift()}o=C(c,o,s)}}}else{if(!s&&b.length>1&&h.nodeType===9&&!f&&K.match.ID.test(b[0])&&!K.match.ID.test(b[b.length-1])){p=Q.find(b.shift(),h,f);h=p.expr?Q.filter(p.expr,p.set)[0]:p.set[0]}if(h){p=s?{expr:b.pop(),set:J(s)}:Q.find(b.pop(),b.length===1&&(b[0]==="~"||b[0]==="+")&&h.parentNode?h.parentNode:h,f);o=p.expr?Q.filter(p.expr,p.set):p.set;if(b.length>0){g=J(o)}else{d=false}while(b.length){j=b.pop();l=j;if(!K.relative[j]){j=""}else{l=b.pop()}if(l==null){l=h}K.relative[j](g,l,f)}}else{g=b=[]}}if(!g){g=o}if(!g){Q.error(j||c)}if(D.call(g)==="[object Array]"){if(!d){t.push.apply(t,g)}else{if(h&&h.nodeType===1){for(u=0;g[u]!=null;u++){if(g[u]&&(g[u]===true||g[u].nodeType===1&&Q.contains(h,g[u]))){t.push(o[u])}}}else{for(u=0;g[u]!=null;u++){if(g[u]&&g[u].nodeType===1){t.push(o[u])}}}}}else{J(g,t)}if(n){Q(n,q,t,s);Q.uniqueSort(t)}return t};Q.uniqueSort=function(c){if(F){N=O;c.sort(F);if(N){for(var b=1;b<c.length;b++){if(c[b]===c[b-1]){c.splice(b--,1)}}}}return c};Q.matches=function(b,c){return Q(b,null,null,c)};Q.matchesSelector=function(b,c){return Q(c,null,null,[b]).length>0};Q.find=function(m,g,l){var b,h,d,f,c,j;if(!m){return[]}for(h=0,d=K.order.length;h<d;h++){c=K.order[h];if((f=K.leftMatch[c].exec(m))){j=f[1];f.splice(1,1);if(j.substr(j.length-1)!=="\\"){f[1]=(f[1]||"").replace(E,"");b=K.find[c](f,g,l);if(b!=null){m=m.replace(K.match[c],"");break}}}}if(!b){b=typeof g.getElementsByTagName!=="undefined"?g.getElementsByTagName("*"):[]}return{set:b,expr:m}};Q.filter=function(q,r,m,d){var b,h,s,g,o,n,f,c,p,l=q,j=[],t=r,u=r&&r[0]&&Q.isXML(r[0]);while(q&&r.length){for(s in K.filter){if((b=K.leftMatch[s].exec(q))!=null&&b[2]){n=K.filter[s];f=b[1];h=false;b.splice(1,1);if(f.substr(f.length-1)==="\\"){continue}if(t===j){j=[]}if(K.preFilter[s]){b=K.preFilter[s](b,t,m,j,d,u);if(!b){h=g=true}else{if(b===true){continue}}}if(b){for(c=0;(o=t[c])!=null;c++){if(o){g=n(o,b,c,t);p=d^g;if(m&&g!=null){if(p){h=true}else{t[c]=false}}else{if(p){j.push(o);h=true}}}}}if(g!==undefined){if(!m){t=j}q=q.replace(K.match[s],"");if(!h){return[]}break}}}if(q===l){if(h==null){Q.error(q)}else{break}}l=q}return t};Q.error=function(b){throw new Error("Syntax error, unrecognized expression: "+b)};var S=Q.getText=function(g){var d,b,c=g.nodeType,f="";if(c){if(c===1||c===9){if(typeof g.textContent==="string"){return g.textContent}else{if(typeof g.innerText==="string"){return g.innerText.replace(A,"")}else{for(g=g.firstChild;g;g=g.nextSibling){f+=S(g)}}}}else{if(c===3||c===4){return g.nodeValue}}}else{for(d=0;(b=g[d]);d++){if(b.nodeType!==8){f+=S(b)}}}return f};var K=Q.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(b){return b.getAttribute("href")},type:function(b){return b.getAttribute("type")}},relative:{"+":function(f,l){var b=typeof l==="string",h=b&&!y.test(l),c=b&&!h;if(h){l=l.toLowerCase()}for(var g=0,d=f.length,j;g<d;g++){if((j=f[g])){while((j=j.previousSibling)&&j.nodeType!==1){}f[g]=c||j&&j.nodeName.toLowerCase()===l?j||false:j===l}}if(c){Q.filter(l,f,true)}},">":function(d,j){var g,h=typeof j==="string",f=0,c=d.length;if(h&&!y.test(j)){j=j.toLowerCase();for(;f<c;f++){g=d[f];if(g){var b=g.parentNode;d[f]=b.nodeName.toLowerCase()===j?b:false}}}else{for(;f<c;f++){g=d[f];if(g){d[f]=h?g.parentNode:g.parentNode===j}}if(h){Q.filter(j,d,true)}}},"":function(b,h,f){var g,d=G++,c=B;if(typeof h==="string"&&!y.test(h)){h=h.toLowerCase();g=h;c=T}c("parentNode",h,d,b,g,f)},"~":function(b,h,f){var g,d=G++,c=B;if(typeof h==="string"&&!y.test(h)){h=h.toLowerCase();g=h;c=T}c("previousSibling",h,d,b,g,f)}},find:{ID:function(f,d,b){if(typeof d.getElementById!=="undefined"&&!b){var c=d.getElementById(f[1]);return c&&c.parentNode?[c]:[]}},NAME:function(f,d){if(typeof d.getElementsByName!=="undefined"){var h=[],g=d.getElementsByName(f[1]);for(var b=0,c=g.length;b<c;b++){if(g[b].getAttribute("name")===f[1]){h.push(g[b])}}return h.length===0?null:h}},TAG:function(b,c){if(typeof c.getElementsByTagName!=="undefined"){return c.getElementsByTagName(b[1])}}},preFilter:{CLASS:function(b,l,h,f,d,c){b=" "+b[1].replace(E,"")+" ";if(c){return b}for(var j=0,g;(g=l[j])!=null;j++){if(g){if(d^(g.className&&(" "+g.className+" ").replace(/[\t\n\r]/g," ").indexOf(b)>=0)){if(!h){f.push(g)}}else{if(h){l[j]=false}}}}return false},ID:function(b){return b[1].replace(E,"")},TAG:function(c,b){return c[1].replace(E,"").toLowerCase()},CHILD:function(b){if(b[1]==="nth"){if(!b[2]){Q.error(b[0])}b[2]=b[2].replace(/^\+|\s*/g,"");var c=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(b[2]==="even"&&"2n"||b[2]==="odd"&&"2n+1"||!/\D/.test(b[2])&&"0n+"+b[2]||b[2]);b[2]=(c[1]+(c[2]||1))-0;b[3]=c[3]-0}else{if(b[2]){Q.error(b[0])}}b[0]=G++;return b},ATTR:function(j,h,g,d,f,c){var b=j[1]=j[1].replace(E,"");if(!c&&K.attrMap[b]){j[1]=K.attrMap[b]}j[4]=(j[4]||j[5]||"").replace(E,"");if(j[2]==="~="){j[4]=" "+j[4]+" "}return j},PSEUDO:function(h,g,f,c,d){if(h[1]==="not"){if((H.exec(h[3])||"").length>1||/^\w/.test(h[3])){h[3]=Q(h[3],null,null,g)}else{var b=Q.filter(h[3],g,f,true^d);if(!f){c.push.apply(c,b)}return false}}else{if(K.match.POS.test(h[0])||K.match.CHILD.test(h[0])){return true}}return h},POS:function(b){b.unshift(true);return b}},filters:{enabled:function(b){return b.disabled===false&&b.type!=="hidden"},disabled:function(b){return b.disabled===true},checked:function(b){return b.checked===true},selected:function(b){if(b.parentNode){b.parentNode.selectedIndex}return b.selected===true},parent:function(b){return !!b.firstChild},empty:function(b){return !b.firstChild},has:function(c,d,b){return !!Q(b[3],c).length},header:function(b){return(/h\d/i).test(b.nodeName)},text:function(c){var b=c.getAttribute("type"),d=c.type;return c.nodeName.toLowerCase()==="input"&&"text"===d&&(b===d||b===null)},radio:function(b){return b.nodeName.toLowerCase()==="input"&&"radio"===b.type},checkbox:function(b){return b.nodeName.toLowerCase()==="input"&&"checkbox"===b.type},file:function(b){return b.nodeName.toLowerCase()==="input"&&"file"===b.type},password:function(b){return b.nodeName.toLowerCase()==="input"&&"password"===b.type},submit:function(c){var b=c.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===c.type},image:function(b){return b.nodeName.toLowerCase()==="input"&&"image"===b.type},reset:function(c){var b=c.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===c.type},button:function(c){var b=c.nodeName.toLowerCase();return b==="input"&&"button"===c.type||b==="button"},input:function(b){return(/input|select|textarea|button/i).test(b.nodeName)},focus:function(b){return b===b.ownerDocument.activeElement}},setFilters:{first:function(c,b){return b===0},last:function(d,f,c,b){return f===b.length-1},even:function(c,b){return b%2===0},odd:function(c,b){return b%2===1},lt:function(c,d,b){return d<b[3]-0},gt:function(c,d,b){return d>b[3]-0},nth:function(c,d,b){return b[3]-0===d},eq:function(c,d,b){return b[3]-0===d}},filter:{PSEUDO:function(h,m,b,l){var g=m[1],j=K.filters[g];if(j){return j(h,b,m,l)}else{if(g==="contains"){return(h.textContent||h.innerText||S([h])||"").indexOf(m[3])>=0}else{if(g==="not"){var f=m[3];for(var c=0,d=f.length;c<d;c++){if(f[c]===h){return false}}return true}else{Q.error(g)}}}},CHILD:function(h,d){var f,l,b,m,g,c,n,o=d[1],j=h;switch(o){case"only":case"first":while((j=j.previousSibling)){if(j.nodeType===1){return false}}if(o==="first"){return true}j=h;case"last":while((j=j.nextSibling)){if(j.nodeType===1){return false}}return true;case"nth":f=d[2];l=d[3];if(f===1&&l===0){return true}b=d[0];m=h.parentNode;if(m&&(m[M]!==b||!h.nodeIndex)){c=0;for(j=m.firstChild;j;j=j.nextSibling){if(j.nodeType===1){j.nodeIndex=++c}}m[M]=b}n=h.nodeIndex-l;if(f===0){return n===0}else{return(n%f===0&&n/f>=0)}}},ID:function(c,b){return c.nodeType===1&&c.getAttribute("id")===b},TAG:function(c,b){return(b==="*"&&c.nodeType===1)||!!c.nodeName&&c.nodeName.toLowerCase()===b},CLASS:function(c,b){return(" "+(c.className||c.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(g,b){var f=b[1],d=Q.attr?Q.attr(g,f):K.attrHandle[f]?K.attrHandle[f](g):g[f]!=null?g[f]:g.getAttribute(f),c=d+"",j=b[2],h=b[4];return d==null?j==="!=":!j&&Q.attr?d!=null:j==="="?c===h:j==="*="?c.indexOf(h)>=0:j==="~="?(" "+c+" ").indexOf(h)>=0:!h?c&&d!==false:j==="!="?c!==h:j==="^="?c.indexOf(h)===0:j==="$="?c.substr(c.length-h.length)===h:j==="|="?c===h||c.substr(0,h.length+1)===h+"-":false},POS:function(h,g,f,d){var c=g[2],b=K.setFilters[c];if(b){return b(h,f,g,d)}}}};var L=K.match.POS,R=function(c,b){return"\\"+(b-0+1)};for(var P in K.match){K.match[P]=new RegExp(K.match[P].source+(/(?![^\[]*\])(?![^\(]*\))/.source));K.leftMatch[P]=new RegExp(/(^(?:.|\r|\n)*?)/.source+K.match[P].source.replace(/\\(\d+)/g,R))}var J=function(c,b){c=Array.prototype.slice.call(c,0);if(b){b.push.apply(b,c);return b}return c};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(z){J=function(g,b){var d=0,f=b||[];if(D.call(g)==="[object Array]"){Array.prototype.push.apply(f,g)}else{if(typeof g.length==="number"){for(var c=g.length;d<c;d++){f.push(g[d])}}else{for(;g[d];d++){f.push(g[d])}}}return f}}var F,I;if(document.documentElement.compareDocumentPosition){F=function(c,b){if(c===b){N=true;return 0}if(!c.compareDocumentPosition||!b.compareDocumentPosition){return c.compareDocumentPosition?-1:1}return c.compareDocumentPosition(b)&4?-1:1}}else{F=function(m,n){if(m===n){N=true;return 0}else{if(m.sourceIndex&&n.sourceIndex){return m.sourceIndex-n.sourceIndex}}var c,j,h=[],g=[],d=m.parentNode,b=n.parentNode,l=d;if(d===b){return I(m,n)}else{if(!d){return -1}else{if(!b){return 1}}}while(l){h.unshift(l);l=l.parentNode}l=b;while(l){g.unshift(l);l=l.parentNode}c=h.length;j=g.length;for(var f=0;f<c&&f<j;f++){if(h[f]!==g[f]){return I(h[f],g[f])}}return f===c?I(m,g[f],-1):I(h[f],n,1)};I=function(f,c,d){if(f===c){return d}var b=f.nextSibling;while(b){if(b===c){return -1}b=b.nextSibling}return 1}}(function(){var d=document.createElement("div"),c="script"+(new Date()).getTime(),b=document.documentElement;d.innerHTML="<a name='"+c+"'/>";b.insertBefore(d,b.firstChild);if(document.getElementById(c)){K.find.ID=function(j,h,g){if(typeof h.getElementById!=="undefined"&&!g){var f=h.getElementById(j[1]);return f?f.id===j[1]||typeof f.getAttributeNode!=="undefined"&&f.getAttributeNode("id").nodeValue===j[1]?[f]:undefined:[]}};K.filter.ID=function(g,f){var h=typeof g.getAttributeNode!=="undefined"&&g.getAttributeNode("id");return g.nodeType===1&&h&&h.nodeValue===f}}b.removeChild(d);b=d=null})();(function(){var b=document.createElement("div");b.appendChild(document.createComment(""));if(b.getElementsByTagName("*").length>0){K.find.TAG=function(h,f){var g=f.getElementsByTagName(h[1]);if(h[1]==="*"){var c=[];for(var d=0;g[d];d++){if(g[d].nodeType===1){c.push(g[d])}}g=c}return g}}b.innerHTML="<a href='#'></a>";if(b.firstChild&&typeof b.firstChild.getAttribute!=="undefined"&&b.firstChild.getAttribute("href")!=="#"){K.attrHandle.href=function(c){return c.getAttribute("href",2)}}b=null})();if(document.querySelectorAll){(function(){var c=Q,b=document.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0){return}Q=function(n,h,s,o){h=h||document;if(!o&&!Q.isXML(h)){var p=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(n);if(p&&(h.nodeType===1||h.nodeType===9)){if(p[1]){return J(h.getElementsByTagName(n),s)}else{if(p[2]&&K.find.CLASS&&h.getElementsByClassName){return J(h.getElementsByClassName(p[2]),s)}}}if(h.nodeType===9){if(n==="body"&&h.body){return J([h.body],s)}else{if(p&&p[3]){var t=h.getElementById(p[3]);if(t&&t.parentNode){if(t.id===p[3]){return J([t],s)}}else{return J([],s)}}}try{return J(h.querySelectorAll(n),s)}catch(r){}}else{if(h.nodeType===1&&h.nodeName.toLowerCase()!=="object"){var g=h,u=h.getAttribute("id"),j=u||d,l=h.parentNode,m=/^\s*[+~]/.test(n);if(!u){h.setAttribute("id",j)}else{j=j.replace(/'/g,"\\$&")}if(m&&l){h=h.parentNode}try{if(!m||l){return J(h.querySelectorAll("[id='"+j+"'] "+n),s)}}catch(q){}finally{if(!u){g.removeAttribute("id")}}}}}return c(n,h,s,o)};for(var f in c){Q[f]=c[f]}b=null})()}(function(){var c=document.documentElement,d=c.matchesSelector||c.mozMatchesSelector||c.webkitMatchesSelector||c.msMatchesSelector;if(d){var g=!d.call(document.createElement("div"),"div"),f=false;try{d.call(document.documentElement,"[test!='']:sizzle")}catch(b){f=true}Q.matchesSelector=function(l,h){h=h.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!Q.isXML(l)){try{if(f||!K.match.PSEUDO.test(h)&&!/!=/.test(h)){var m=d.call(l,h);if(m||!g||l.document&&l.document.nodeType!==11){return m}}}catch(j){}}return Q(h,null,null,[l]).length>0}}})();(function(){var b=document.createElement("div");b.innerHTML="<div class='test e'></div><div class='test'></div>";if(!b.getElementsByClassName||b.getElementsByClassName("e").length===0){return}b.lastChild.className="e";if(b.getElementsByClassName("e").length===1){return}K.order.splice(1,0,"CLASS");K.find.CLASS=function(f,d,c){if(typeof d.getElementsByClassName!=="undefined"&&!c){return d.getElementsByClassName(f[1])}};b=null})();function T(j,b,c,l,n,m){for(var f=0,h=l.length;f<h;f++){var g=l[f];if(g){var d=false;g=g[j];while(g){if(g[M]===c){d=l[g.sizset];break}if(g.nodeType===1&&!m){g[M]=c;g.sizset=f}if(g.nodeName.toLowerCase()===b){d=g;break}g=g[j]}l[f]=d}}}function B(j,b,c,l,n,m){for(var f=0,h=l.length;f<h;f++){var g=l[f];if(g){var d=false;g=g[j];while(g){if(g[M]===c){d=l[g.sizset];break}if(g.nodeType===1){if(!m){g[M]=c;g.sizset=f}if(typeof b!=="string"){if(g===b){d=true;break}}else{if(Q.filter(b,[g]).length>0){d=g;break}}}g=g[j]}l[f]=d}}}if(document.documentElement.contains){Q.contains=function(c,b){return c!==b&&(c.contains?c.contains(b):true)}}else{if(document.documentElement.compareDocumentPosition){Q.contains=function(c,b){return !!(c.compareDocumentPosition(b)&16)}}else{Q.contains=function(){return false}}}Q.isXML=function(b){var c=(b?b.ownerDocument||b:0).documentElement;return c?c.nodeName!=="HTML":false};var C=function(h,g,b){var c,m=[],d="",l=g.nodeType?[g]:g;while((c=K.match.PSEUDO.exec(h))){d+=c[0];h=h.replace(K.match.PSEUDO,"")}h=K.relative[h]?h+"*":h;for(var f=0,j=l.length;f<j;f++){Q(h,l[f],m,b)}return Q.filter(d,m)};window.me2p.Sizzle=Q})();me2p.Button=function(c,d){this.isOnLoaded=false;this.isMetooRequesting=false;this._value=c;this.$value=function(){return this._value};this.url=d;this.pluginKey=null;this.elements={};this.elements.button=null;this.elements.countContainer=null;this.elements.count=null;this.elements.dialog=null;this.dialog=null;this.loginHelper=null;this.isPostExist=false;this.$init=function(){this.pluginKey=this.$value().getAttribute(me2p.AttributeNames.PLUGIN_KEY);this.elements.button=me2p.Sizzle("."+me2p.ElementClassNames.BUTTON,this.$value())[0];this.elements.countContainer=me2p.Sizzle("."+me2p.ElementClassNames.COUNT_BUBBLE,this.$value())[0];this.elements.count=me2p.Sizzle("."+me2p.ElementClassNames.COUNT,this.$value())[0];this.elements.dialog=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG,this.$value())[0];this.dialog=new me2p.Dialog(this);this.onClickAction=me2p.Util.fn(function(b){var f=me2p.Service.getWebPageInfo();if(me2p.Service.errorResponse&&me2p.Service.errorResponse.code){this.showError(me2p.Service.errorResponse)}else{this.metoo()}if(!b){return false}if(b.preventDefault){b.preventDefault()}else{b.returnValue=false}return false},this).bind();this.elements.button.onclick=me2p.Util.fn(function(b){if(!me2p.Main.isWebPageInfoRequested){me2p.updateElementsForCallback(this.onClickAction)}else{this.onClickAction()}},this).bind()};this.metoo=function(){var n=me2p.Service.getWebPageInfo();this.isPostExist=n.postInfoMap[this.url];if(this.isMetooRequesting||this.dialog.isOpen()){return false}if(me2p.Service.isLoggedIn()){this.onBeforeMetoo();this.isMetooRequesting=true;this.showLoadingImage();var b={url:this.url,security_token:n.securityToken[this.url]};if(this.pluginKey){b.plugin_key=this.pluginKey}try{if(!n.postInfoMap[this.url].postId){b.title=me2p.Main.title}}catch(m){}var j=me2p.Util.fn(function(f){var g=f;if(g.code=="0"){if(g.result.postInfo&&g.result.postInfo.postId){me2p.Service.updatePostInfo(g.result.postInfo);me2p.MetooHandler.updateAll()}this.onAfterMetoo()}else{if(g.code=="1002"){if(me2p_config_isMobile){me2p.Service.requestWebPageInfo(me2p.Service.webPageInfoParams,me2p.Util.fn(this.login,this).bind())}else{this.login()}this.hideLoadingImage();this.isMetooRequesting=false;return}for(var h in g){me2p.log(h+"="+g[h])}}this.hideLoadingImage();this.showDialog(g);this.isMetooRequesting=false},this).bind();var l=me2p.Util.fn(function(){this.hideLoadingImage();this.isMetooRequesting=false;this.showError()},this).bind();me2p.Service.requestMetoo(b,j,l)}else{this.login()}};this.login=function(){this.loginHelper=(!this.loginHelper)?new me2p.LoginHelper():this.loginHelper;if(me2p_config_isMobile){var g="";var b="";var f=me2p.Service.getWebPageInfo();if(f.securityToken){g=f.securityToken[this.url]||""}b=f.timestamp||"";this.loginHelper.gotoLoginPage({url:this.url,plugin_key:this.pluginKey,redirect_url:location.href,security_token:g,timestamp:b})}else{this.loginHelper.openLoginWindow({pluginType:"button",url:this.url},me2p.Util.fn(this.metoo,this).bind())}};this.showLoadingImage=function(){me2p.Util.addClass(this.elements.button,this.$value().getAttribute(me2p.AttributeNames.LOADING_METOO_CLASS))};this.hideLoadingImage=function(){me2p.Util.removeClass(this.elements.button,this.$value().getAttribute(me2p.AttributeNames.LOADING_METOO_CLASS))};this.showDialog=function(b){this.onBeforeShowLayer();this.dialog.show(b)};this.showError=function(b){if(!b){this.dialog.showDefaultError()}this.dialog.show(b)};this.updateUI=function(b){me2p.Util.addClass(this.elements.button,this.$value().getAttribute(me2p.AttributeNames.BEFORE_METOO_CLASS));if(!b){b=me2p.Service.getWebPageInfo().postInfoMap[this.url]}if(!b){this.elements.countContainer.style.display="none";return}this._updateCount(b);this._updateMetooStatus(b);if(!this.isOnLoaded){this.isOnLoaded=true;this.onLoad()}};this._updateCount=function(j){var g,b,h;g=j.metooCount;b=j.permalink;if(g>=999500000){h="∞"}else{if(g>=1000000){h=Math.round(parseFloat(g/1000000))+"M"}else{if(g>=10000){h=Math.round(parseFloat(g/1000))+"K"}else{if(g>0){h=me2p.Util.numberWithDelimiter(g)}else{h=0}}}}if(g>0){this.elements.countContainer.style.display="";this.elements.count.innerHTML=me2p.Util.numberWithDelimiter(g)}if(b){this.elements.count.setAttribute("target","_blank");this.elements.count.setAttribute("href",b)}};this._updateMetooStatus=function(f){var b=f.metooStatus;if(b=="0"||b=="1"){this._setMetooed()}};this._setMetooed=function(){me2p.Util.removeClass(this.elements.button,this.$value().getAttribute(me2p.AttributeNames.BEFORE_METOO_CLASS));me2p.Util.addClass(this.elements.button,this.$value().getAttribute(me2p.AttributeNames.AFTER_METOO_CLASS))};this.onLoad=me2p.Util.EmptyFunction;this.onBeforeMetoo=me2p.Util.EmptyFunction;this.onAfterMetoo=me2p.Util.EmptyFunction;this.onBeforeShowLayer=me2p.Util.EmptyFunction;this.onShowLayer=me2p.Util.EmptyFunction;this.onCloseLayer=me2p.Util.EmptyFunction;this.closeLayer=function(){this.dialog.close()};this.registerEvent=function(b,f){this[b]=f};this.$init()};me2p.MetooHandler={buttonList:[],buttonMap:{},pluginKey:null,urls:[],reset:function(){this.buttonList=[];this.buttonMap={};this.pluginKey=null;this.urls=[]},register:function(h,j,g){if(typeof g=="undefined"){g=0}if(!this.buttonMap[j]||!this.buttonMap[j][g]){var f=new me2p.Button(h,j);this.buttonList.push(f);if(!this.buttonMap[j]){this.buttonMap[j]=[]}this.buttonMap[j][g]=f;this.urls.push(j)}else{me2p.log("['"+j+"']["+g+"] has already been registered.")}if(this.buttonMap[j][g]){if(!this.pluginKey){this.pluginKey=this.buttonMap[j][g].pluginKey}}},updateAll:function(){for(var c=0,d=this.buttonList.length;c<d;c++){if(this.buttonList[c]){this.buttonList[c].updateUI()}}},get:function(b){return new this.ButtonHandler(this.buttonMap[b])},getAll:function(){return new this.ButtonHandler(me2p.MetooHandler.buttonList)},ButtonHandler:function(b){this.list=b;this.registerEvent=function(g,h){if(this.list){for(var j=0,f=this.list.length;j<f;j++){if(this.list[j]){this.list[j].registerEvent(g,h)}}}else{console.log("Button Object does not exist.")}},this.closeLayer=function(){for(var f=0,d=this.list.length;f<d;f++){if(this.list[f]){this.list[f].closeLayer()}}}}};me2p.MessageText={"016":"미투데이 플러그인이 정상적으로 작동되고 있지 않습니다.","8000":"내 미투데이 생성에 실패했습니다. 단체회원인 경우 미투데이 생성을 하실 수 없습니다."};me2p.MessageTemplate={M004:'<strong><a href="http://me2day.net/{=userId}" target="_blank">{=nickname}</a>님의 <a href="{=permalink}" target="_blank">포스트</a>에 <a href="http://me2day.net/{=loginUserId}/metoo" target="_blank">미투</a>했습니다.</strong>',M004_1:'<strong><a href="http://me2day.net/{=userId}" target="_blank">{=nickname}</a>님의 <a href="{=permalink}" target="_blank">포스트</a>에 이미 <a href="http://me2day.net/{=loginUserId}/metoo" target="_blank">미투</a>했습니다.</strong>',M009:'<strong><a href="http://me2day.net/{=userId}" target="_blank">{=nickname}</a>님의 <a href="{=permalink}" target="_blank">포스트</a>가 생성되었습니다.</strong>',M009_1:'<strong><a href="http://me2day.net/{=userId}" target="_blank">{=nickname}</a>님의 <a href="{=permalink}" target="_blank">포스트</a>가 이미 생성되었습니다.</strong>',M010:'<a href="http://me2day.net/front/rules" target="_blank">미투데이 운영원칙</a>에 따라 활동 제한 조치중입니다.<br>활동 제한 기간 중에는 해당 활동이 제한됩니다.',M011:'<a href="http://me2day.net/{=ownerUserId}" target="_blank">{=ownerNickname}</a>님이 <a href="http://me2day.net/{=loginUserId}" target="_blank">{=loginNickname}</a>님을 차단했습니다.',M012:'<a href="http://me2day.net/{=ownerUserId}" target="_blank">{=ownerNickname}</a>님은 프로필사진, 휴대폰번호, 한줄소개 등이 등록되어 있지 않은 회원으로부터는 댓글을 받지 않습니다. <a class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'" href="http://me2day.net/{=loginUserId}/setting?open_profile=true" target="_blank">프로필 업데이트 하러 가기</a>',M013:'<strong>미투데이 서비스가 점검 중입니다.</strong>점검시간 동안은 기능 이용이 제한됩니다. <a href="http://me2day.net/me2/blog" target="_blank" class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'">미투데이 공지 보기</a>',M014:"<strong>일시적인 오류가 발생했습니다.</strong>이용에 불편을 드린 점 진심으로 사과드립니다.",M016:"<strong>"+me2p.MessageText["016"]+"</strong>",M019:"<strong>잘못된 요청입니다.</strong> {=message}",M020:"<strong>일시중지 중에는 이용하실 수 없는 기능입니다.</strong>",M021:'나의 미투데이 (<a href="http://me2day.net/{=createdId}" target="_blank" class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'">http://me2day.net/{=createdId}</a>)의 <br /> <a href="http://me2day.net/{=createdId}/metoo" target="_blank" class="me2_post">미투한글</a>에서 확인할 수 있습니다.',M8000:"<strong>"+me2p.MessageText["8000"]+"</strong>"};me2p.MessageTemplate2={M004:'<strong><a href="{=permalink}" target="_blank">포스트</a>에 <a href="http://me2day.net/{=loginUserId}/metoo" target="_blank">미투</a>했습니다.</strong>',M004_1:'<strong><a href="{=permalink}" target="_blank">포스트</a>에 이미 <a href="http://me2day.net/{=loginUserId}/metoo" target="_blank">미투</a>했습니다.</strong>',M009:"<strong>생성되었습니다.</strong>",M009_1:"<strong>이미 생성되었습니다.</strong>",M010:'<a href="http://me2day.net/front/rules" target="_blank">미투데이 운영원칙</a>에 따라 활동 제한 조치중입니다.<br>활동 제한 기간 중에는 해당 활동이 제한됩니다.',M011:"차단되었기 때문에 미투를 할 수가 없습니다.",M012:'프로필사진, 휴대폰번호, 한줄소개 등이 등록되어 있지 않은 회원으로부터는 댓글을 받지 않습니다. <a class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'" href="http://me2day.net/{=loginUserId}/setting?open_profile=true" target="_blank">프로필 업데이트 하러 가기</a>',M013:'<strong>미투데이 서비스가 점검 중입니다.</strong>점검시간 동안은 기능 이용이 제한됩니다. <a href="http://me2day.net/me2/blog" target="_blank" class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'">미투데이 공지 보기</a>',M014:"<strong>일시적인 오류가 발생했습니다.</strong>이용에 불편을 드린 점 진심으로 사과드립니다.",M016:"<strong>"+me2p.MessageText["016"]+"</strong>",M019:"<strong>잘못된 요청입니다.</strong> {=message}",M020:"<strong>일시중지 중에는 이용하실 수 없는 기능입니다.</strong>",M021:'나의 미투데이 (<a href="http://me2day.net/{=createdId}" target="_blank" class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'">http://me2day.net/{=createdId}</a>)의 <br /> <a href="http://me2day.net/{=createdId}/metoo" target="_blank" class="me2_post">미투한글</a>에서 확인할 수 있습니다.',M8000:"<strong>"+me2p.MessageText["8000"]+"</strong>"};me2p.MessageTemplate_DA={M004:"미투했습니다.",M004_1:"이미 미투했습니다.",M009:"생성되었습니다.",M009_1:"이미 생성되었습니다.",M010:"활동 제한 조치중입니다.",M011:"차단되어 미투를 할 수 없습니다.",M012:"",M013:"미투데이 서비스가 점검 중입니다.",M014:"일시적인 오류가 발생했습니다.",M016:'플러그인이 정상적으로 작동되 않습니다."',M019:"잘못된 요청입니다.",M020:"일시중지 중에는 이용하실 수 없는 기능입니다.",M021:"",M8000:"단체회원인 경우 미투데이 생성을 하실 수 없습니다."};me2p.Dialog=function(b){this._isOpen=false;this.button=b;this.$value=function(){return this.button.elements.dialog};this.elements={};this.elements.signin=null;this.elements.message=null;this.elements.closeBt=null;this.elements.postBox=null;this.postBox=null;this.attr={};this.attr.successIconClass="";this.attr.errorIconClass="";this.isCommentWritable=function(c){if(c){if(c.code=="0"||c.code=="1"||c.code=="2"||c.code=="3"){return true}return false}return false};this.$init=function(){this.elements.message=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_MESSAGE,this.$value())[0];this.elements.signin=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_SIGNIN,this.$value())[0];this.elements.closeBt=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_CLOSE,this.$value())[0];this.elements.postBox=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_WRITE_FORM,this.$value())[0];this.attr.successIconClass=this.$value().getAttribute(me2p.AttributeNames.DIALOG_ICON_CLASS_SUCCESS);this.attr.errorIconClass=this.$value().getAttribute(me2p.AttributeNames.DIALOG_ICON_CLASS_ERROR);this.elements.closeBt.onclick=me2p.Util.fn(function(){this.close()},this).bind()};this.isOpen=function(){return this._isOpen};this.show=function(g){if(!g){this.showDefaultError();return}this._setIcon(g.code);var h=this._getMessageMarkup(g);this.updateMessage(h);var l=me2p.Service.getWebPageInfo();var j=l.loginUser.createdId;if(j){var m=this._getSigninMarkup(j);this._updateHTML(this.elements.signin,m);this.elements.signin.style.display="";l.loginUser.createdId=null}else{this.elements.signin.style.display="none"}this.$value().style.display="";if(this.isCommentWritable(g)){if(this.elements.postBox){this.postBox=(this.postBox?this.postBox:new me2p.PostBox(this));this.postBox.show()}}this.button.onShowLayer(this.$value());this._isOpen=true};this.updateMessage=function(c){this._updateHTML(this.elements.message,c)};this.close=function(){this.button.onCloseLayer();this.$value().style.display="none";this._isOpen=false};this.showDefaultError=function(){alert(me2p.MessageText["016"])};this._updateHTML=function(d,f){d.innerHTML=f};this._isCommentWritable=function(c){if(c=="0"||c=="1"||c=="2"||c=="3"){return true}else{return false}};this._setIcon=function(d){var f=this.elements.message;if(this._isCommentWritable(d)){me2p.Util.removeClass(f,this.attr.errorIconClass);me2p.Util.addClass(f,this.attr.successIconClass)}else{me2p.Util.removeClass(f,this.attr.successIconClass);me2p.Util.addClass(f,this.attr.errorIconClass)}};this._getSigninMarkup=function(g){var f=me2p.Util.Template(me2p.MessageTemplate.M021);var h=f.process({createdId:g});return h||""};this._getMessageMarkup=function(n){if(!n){return}var l,h;var j="";var m=me2p.Service.getWebPageInfo();var o=(n.result&&n.result.postInfo)?n.result.postInfo:null;switch(n.code){case"0":if(o){if(o.metooStatus=="0"){h="M004"}else{if(o.metooStatus=="1"){h="M004_1"}else{if(o.metooStatus=="2"){h="M009"}else{if(o.metooStatus=="3"){if(this.button.isPostExist){h="M009_1"}else{h="M009"}}else{h="M016"}}}}if(m.ownerUser){l=me2p.Util.Template(me2p.MessageTemplate[h]);j=l.process({nickname:m.ownerUser.nickname,userId:m.ownerUser.userId,permalink:n.result.postInfo.permalink,loginUserId:m.loginUser.userId})}else{l=me2p.Util.Template(me2p.MessageTemplate2[h]);j=l.process({permalink:n.result.postInfo.permalink,loginUserId:m.loginUser.userId})}}else{j=n.message}break;case"1004":l=me2p.Util.Template(me2p.MessageTemplate.M019);j=l.process({message:n.message});break;case"1105":l=me2p.Util.Template(me2p.MessageTemplate.M020);j=l.process();break;case"1106":l=me2p.Util.Template(me2p.MessageTemplate.M010);j=l.process();break;case"1107":if(m.ownerUser){l=me2p.Util.Template(me2p.MessageTemplate.M011);j=l.process({ownerNickname:m.ownerUser.nickname,ownerUserId:m.ownerUser.userId,loginNickname:m.loginUser.nickname,loginUserId:m.loginUser.userId})}else{l=me2p.Util.Template(me2p.MessageTemplate2.M011);j=l.process()}break;case"1108":if(m.ownerUser){l=me2p.Util.Template(me2p.MessageTemplate.M012);j=l.process({ownerNickname:m.ownerUser.nickname,ownerUserId:m.ownerUser.userId,loginUserId:m.loginUser.userId})}else{l=me2p.Util.Template(me2p.MessageTemplate2.M012);j=l.process()}break;case"3001":j=me2p.Util.Template(me2p.MessageTemplate.M013).process();break;case"1011":case"1201":j=n.message;break;case"1202":case"1203":case"1204":case"1209":j=me2p.Util.Template(me2p.MessageTemplate.M016).process();break;case"8000":j=me2p.Util.Template(me2p.MessageTemplate.M8000).process();break;default:if(n.code>=2000){j=me2p.Util.Template(me2p.MessageTemplate.M014).process()}else{l=me2p.Util.Template(me2p.MessageTemplate.M019);j=l.process({message:n.message})}}return j};this.$init()};me2p.PostBox=function(b){this.dialog=b;this.$value=function(){return this.dialog.elements.postBox};this.elements={};this.elements.profileImage=null;this.elements.writeInput=null;this.elements.pingbackCheckbox=null;this.elements.textLength=null;this.elements.submitButton=null;this.isRequesting=false;this.$init=function(){this.elements.container=this.dialog.elements.postBox;this.elements.profileImage=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_PROFILE_IMG,this.$value())[0];this.elements.profileImage.src=me2p.Service.getWebPageInfo().loginUser.profileImage;this.elements.writeInput=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_WRITE_INPUT,this.$value())[0];this.elements.pingbackCheckbox=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_PINGBACK_CHECKBOX,this.$value())[0];this.elements.textLength=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_TEXT_LENGTH,this.$value())[0];this.elements.submitButton=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_SUBMIT_BUTTON,this.$value())[0];this.elements.submitButton.onclick=me2p.Util.fn(function(c){this.submit();if(!c){return false}if(c.preventDefault){c.preventDefault()}else{c.returnValue=false}return false},this).bind()};this.show=function(){this.elements.container.style.display=""};this.close=function(){this.elements.container.style.display="none"};this.submit=function(){if(this.isRequesting){return false}var s=this.elements.writeInput.value;if(s!=""){this.isRequesting=true;var l=s.replace(/\n/g," ");var q=me2p.Service.APIUrl.comment;var r=this.dialog.button;var p=me2p.Service.getWebPageInfo();var m={body:l,plugin_key:r.pluginKey,pingback:this.elements.pingbackCheckbox.checked,url:r.url,security_token:p.securityToken[r.url]};var n=me2p.Util.fn(function(d){var f=d;if(f.code=="0"){var c=me2p.Service.getWebPageInfo();var h=me2p.Util.Template(me2p.MessageTemplate.M006);var g=h.process({nickname:c.ownerUser.nickname,userId:c.ownerUser.userId,permalink:f.result.postInfo.permalink});this.dialog.updateMessage(g);this.elements.writeInput.value=""}else{this.dialog.updateMessage(f.message)}this.close();this.isRequesting=false},this).bind();var o=me2p.Util.fn(function(){this.isMetooRequesting=false;this.dialog.showDefaultError()},this).bind();me2p.Service.writeComment(m,n,o)}};this.$init()};me2p.Messenger={bInitialed:false,flashUrl:"http://static.plugin.me2day.com/swf/NDomainBridge.swf",flashVer:"1.0.4",flashConnectId:null,fId:null,origin:"http://"+me2p_config_loginProxyDomain,bInitialed:false,retryCount:0,isPostMessageSupported:function(){return window.postMessage?true:false},Sender:function(b){this.$init=function(){if(me2p.Messenger.isPostMessageSupported()){me2p.Messenger.bInitialed=true}else{me2p.Messenger.flashConnectId=b;this.initSenderFlash()}};this.initSenderFlash=function(){var f={};f.initParams='{"prefix": "sender_", "type": 1}';var g={};g.wmode="window";g.allowScriptAccess="always";g.color="#FFFFFF";g.flashVars=f;var h=nhn.Me2DayFlashObject.generateTag(me2p.Messenger.flashUrl+"?sender"+me2p.Messenger.flashVer,"DomainBridgeSender","1","1",g);var j=document.createElement("div");j.style.position="absolute";j.style.top="-1000px";j.style.left="-1000px";document.body.appendChild(j);j.innerHTML=h};this.sendMessage=function(f,g){if(!me2p.Messenger.bInitialed){setTimeout(me2p.Util.fn(function(){this.sendMessage(f,g)},this).bind(),200);return false}var h={methodName:f,methodParam:me2p.Util.jsonToString(g)};h=me2p.Util.jsonToString(h);if(me2p.Messenger.isPostMessageSupported()){window.parent.postMessage(h,"*")}else{sendNotification(h)}};this.$init()},Receiver:function(){this.$init=function(){if(me2p.Messenger.isPostMessageSupported()){var fn=me2p.Util.fn(this.receiveMessage,this).bind();window.addEventListener?window.addEventListener("message",fn,false):window.attachEvent("onmessage",fn);me2p.Messenger.bInitialed=true}else{me2p.Messenger.flashConnectId="fId"+me2p.Util.getUinqId();this.initReceiverFlash()}};this.receiveMessage=function(event){if(!event){return}if(event.origin!==me2p.Messenger.origin){return}var oData=me2p.Util.toJson(event.data);try{eval(oData.methodName+"("+me2p.Util.jsonToString(oData.methodParam)+")")}catch(e){window._me2p_debug=oData;me2p.log("receiveMessage="+e)}};this.initReceiverFlash=function(){var flashVarsObj={};flashVarsObj.initParams='{"prefix": "receiver_", "type": 0}';var obj={};obj.wmode="window";obj.allowScriptAccess="always";obj.color="#FFFFFF";obj.flashVars=flashVarsObj;var flashTag=nhn.Me2DayFlashObject.generateTag(me2p.Messenger.flashUrl+"?receiver"+me2p.Messenger.flashVer,"DomainBridgeReceiver","1","1",obj);var flashWrapper=document.createElement("div");flashWrapper.style.position="absolute";flashWrapper.style.top="-1000px";flashWrapper.style.left="-1000px";document.body.appendChild(flashWrapper);flashWrapper.innerHTML=flashTag};this.$init()}};me2p.Service={APIUrl:{webPageInfo:"http://plugin.me2day.net/v1/plugin/"+(me2p_config_charset=="euc-kr"?"get_webpage_info_euckr.json":"get_webpage_info.json"),metoo:"http://plugin.me2day.net/v1/metoo/"+(me2p_config_charset=="euc-kr"?"metoo_euckr.json":"metoo.json"),comment:"http://plugin.me2day.net/v1/comment/create_comment.json",login:"http://me2day.net/account/login?login_from=plugin",loginProxy:"http://"+me2p_config_loginProxyDomain+"/html/naver/login_proxy.html",loginComplete:"http://"+me2p_config_loginProxyDomain+"/html/naver/login_complete.html"},webPageInfoParams:null,afterGetWebPageInfoAction:{},createdId:null,webPageInfo:{loginUser:{},ownerUser:{},postInfoList:[],securityToken:{},postInfoMap:{}},errorResponse:null,isWpRequesting:false,createdId:null,isLoggedIn:function(){return(this.webPageInfo.loginUser&&this.webPageInfo.loginUser.userId)},getWebPageInfo:function(){return this.webPageInfo},requestWebPageInfo:function(d,g){if(this.isWpRequesting){return false}else{this.isWpRequesting=true}var f=this.APIUrl.webPageInfo;if(d){if(typeof d!="string"){this.webPageInfoParams=me2p.Util.hashToQueryString(hsParams)}else{this.webPageInfoParams=d}}if(f.indexOf("?")!=-1){f+=("&"+this.webPageInfoParams)}else{f+=("?"+this.webPageInfoParams)}if(g){this.afterGetWebPageInfoAction.updateUI=g}me2p.Util.requestJsonp(f,me2p.Util.fn(this._requestWebPageInfoOnSuccess,this).bind())},_requestWebPageInfoOnSuccess:function(p){var q=p;if(q.code=="0"){this.errorResponse=null;this.webPageInfo=q.result;if(!this.isToolbarChecked){this.checkToolbar(q.result)}this.webPageInfo.postInfoMap=this.webPageInfo.postInfoMap||{};if(this.webPageInfo.postInfoList){for(var o=0,l=this.webPageInfo.postInfoList.length;o<l;o++){this.webPageInfo.postInfoMap[this.webPageInfo.postInfoList[o].url]=this.webPageInfo.postInfoList[o]}}if(!this.webPageInfo.loginUser){this.webPageInfo.loginUser={}}if(this.createdId){this.webPageInfo.loginUser.createdId=this.createdId;this.createdId=null}if(this.afterGetWebPageInfoAction){for(var n in this.afterGetWebPageInfoAction){try{this.afterGetWebPageInfoAction[n](q)}catch(m){}}}this.afterGetWebPageInfoAction=[]}else{if(this.afterGetWebPageInfoAction.updateUI){this.afterGetWebPageInfoAction.updateUI()}for(var f in q){me2p.log(f+"="+q[f])}this.errorResponse=q}this.isWpRequesting=false;if(!me2p.Main.isWebPageInfoRequested){me2p.Main.isWebPageInfoRequested=true}},updatePostInfo:function(d){var g=false;for(var f in this.webPageInfo.postInfoList){if(this.webPageInfo.postInfoList[f].url==d.url){this.webPageInfo.postInfoList[f]=d;g=true}}if(!g){this.webPageInfo.postInfoList.push(d)}this.webPageInfo.postInfoMap[d.url]=d},requestMetoo:function(l,h,f){var g=this.APIUrl.metoo;var j="";if(typeof l!="string"){j=me2p.Util.hashToQueryString(l)}else{j=l}if(g.indexOf("?")!=-1){g+=("&"+j)}else{g+=("?"+j)}me2p.Util.requestJsonp(g,h,f)},writeComment:function(l,h,f){var g=this.APIUrl.comment;var j="";if(typeof l!="string"){j=me2p.Util.hashToQueryString(l)}else{j=l}if(g.indexOf("?")!=-1){g+=("&"+j)}else{g+=("?"+j)}me2p.Util.requestJsonp(g,h,f)},isToolbarChecked:false,checkToolbar:function(q){var s=null;function n(b){if(!b){return 0}var d=0;for(var c in b){if((c+"").indexOf("http:")!=-1){d++;s=c}}return d}this.isToolbarChecked=true;if(n(q.securityToken)!=1){return}var l=null;if(q.postInfoList&&q.postInfoList.length>0){l=q.postInfoList[0]}var m=null;try{if(window.ActiveXObject){m=new ActiveXObject("NaverToolbar.Me2API")}}catch(o){}try{if(window.ActiveXObject&&m){var t=q.securityToken[s];var p=l?l.metooCount:0;var r=l?l.metooStatus:9;console.log("NaverToolbar.Me2API > NaverToolbar.UpdateMetooInfo() called. ");console.log("url="+s);console.log("pluginKey="+me2p.MetooHandler.pluginKey);console.log("securityToken="+t);console.log("metooCount="+p);console.log("metooStatus="+r);m.UpdateMetooInfo(s,me2p.MetooHandler.pluginKey,t,p,r)}}catch(o){}}};me2p.Util={EmptyFunction:new Function(),requestJsonp:function(h,l,j){var p=document.head?document.head:document.getElementsByTagName("head")[0];var o=document.createElement("script");var n="me2p_"+new Date().getTime();var m=(typeof j=="function")?setTimeout(j,5000):null;window[n]=function(){if(m){clearInterval(m)}l.apply(null,arguments);window[n]=null;p.removeChild(o)};if(h.indexOf("?")!=-1){h+="&_callback=window."+n}else{h+="?_callback=window."+n}o.src=h;o.charset=me2p_config_charset;p.appendChild(o)},queryStringToHash:function(r){if(r==""){return{}}var n=r.split(/&/g),m,l,s,t={},p=false;for(var q=0;q<n.length;q++){l=n[q].substring(0,m=n[q].indexOf("=")),p=false;try{s=decodeURIComponent(n[q].substring(m+1))}catch(o){p=true;s=decodeURIComponent(unescape(n[q].substring(m+1)))}if(l.substr(l.length-2,2)=="[]"){l=l.substring(0,l.length-2);if(typeof t[l]=="undefined"){t[l]=[]}t[l][t[l].length]=p?escape(s):s}else{t[l]=p?escape(s):s}}return t},hashToQueryString:function(j){var l=[],h=null,g=0;for(var f in j){if(j.hasOwnProperty(f)){if(typeof(h=j[f])=="object"&&(h&&h.constructor==Array)){for(i=0;i<h.length;i++){l[l.length]=encodeURIComponent(f)+"[]="+encodeURIComponent(h[i]+"")}}else{l[l.length]=encodeURIComponent(f)+"="+encodeURIComponent(j[f]+"")}}}return l.join("&")},numberWithDelimiter:function(g,f){g=g+"",f=f||",";var d=g.split(".");d[0]=d[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+f);return d.join(".")},fn:function(func,thisObject){var cl=arguments.callee;if(func instanceof cl){return func}if(!(this instanceof cl)){return new cl(func,thisObject)}this._events=[];this._tmpElm=null;this._key=null;if(typeof func=="function"){this._func=func;this._this=thisObject}else{if(typeof func=="string"&&typeof thisObject=="string"){this._func=eval("false||function("+func+"){"+thisObject+"}")}}},Template:function(h){var j=null,g="";var f=arguments.callee;if(h instanceof f){return h}if(!(this instanceof f)){return new f(h)}if(typeof h=="undefined"){h=""}else{if((j=document.getElementById(h)||h)&&j.tagName&&(g=j.tagName.toUpperCase())&&(g=="TEXTAREA"||(g=="SCRIPT"&&j.getAttribute("type")=="text/template"))){h=(j.value||j.innerHTML).replace(/^\s+|\s+$/g,"")}}this._str=h+""},getUinqId:function(){var d=function(){return"Uniq_"+Math.random().toString().replace(/0\./,"")};var c=d();while(document.getElementById(c)){c=d()}return c},strToJson:function(sObject){try{if(/^(?:\s*)[\{\[]/.test(sObject)){sObject=eval("("+sObject+")")}else{sObject=sObject}}catch(e){sObject={}}return sObject},toJson:function(b){if(!b){return{}}if(typeof b=="string"){return this.strToJson(b)}return b},jsonToString:function(d){var c={$:function(b){if(typeof b=="object"&&b==null){return"null"}if(typeof b=="undefined"){return'""'}if(typeof b=="boolean"){return b?"true":"false"}if(typeof b=="string"){return this.s(b)}if(typeof b=="number"){return b}if(b instanceof Array){return this.a(b)}if(b instanceof Object){return this.o(b)}},s:function(j){var h={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","\t":"\\t"};var b=function(f){return(typeof h[f]!="undefined")?h[f]:f};return'"'+j.replace(/[\\"'\n\r\t]/g,b)+'"'},a:function(n){var l="[",b="",j=n.length;for(var m=0;m<j;m++){if(typeof n[m]=="function"){continue}l+=b+this.$(n[m]);if(!b){b=","}}return l+"]"},o:function(h){var j="{",b="";for(var l in h){if(h.hasOwnProperty(l)){if(typeof h[l]=="function"){continue}j+=b+this.s(l)+":"+this.$(h[l]);if(!b){b=","}}}return j+"}"}};if(window.JSON&&window.JSON.stringify){return window.JSON.stringify(d)}else{return c.$(d)}},hasClass:function(d,c){return new RegExp("(\\s|^)"+c+"(\\s|$)").test(d.className)},addClass:function(d,c){if(!this.hasClass(d,c)){d.className+=" "+c}},removeClass:function(d,c){if(this.hasClass(d,c)){d.className=d.className.replace(new RegExp("(\\s|^)"+c+"(\\s|$)")," ").replace(/\s+/g," ").replace(/^\s|\s$/,"")}}};me2p.Util.fn.prototype.bind=function(){var h=arguments;var b=this._func;var f=this._this;var j=function(){var c=arguments;if(h.length){c=h.concat(c)}return b.apply(f,c)};return j};me2p.Util.Template.splitter=/(?!\\)[\{\}]/g;me2p.Util.Template.pattern=/^(?:if (.+)|elseif (.+)|for (?:(.+)\:)?(.+) in (.+)|(else)|\/(if|for)|=(.+)|js (.+)|set (.+))$/;me2p.Util.Template.prototype.process=function(data){if(!data){data={}}var key="\x01";var leftBrace="\x02";var rightBrace="\x03";var tpl=(" "+this._str+" ").replace(/\\{/g,leftBrace).replace(/\\}/g,rightBrace).replace(/(?!\\)\}\{/g,"}"+key+"{").split(me2p.Util.Template.splitter),i=tpl.length;var map={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","\t":"\\t","\f":"\\f"};var reg=[/(["'](?:(?:\\.)+|[^\\["']+)*["']|[a-zA-Z_][\w\.]*)/g,/[\n\r\t\f"\\]/g,/^\s+/,/\s+$/,/#/g];var cb=[function(m){return(m.substring(0,1)=='"'||m.substring(0,1)=="'"||m=="null")?m:"d."+m},function(m){return map[m]||m},"",""];var stm=[];var lev=0;tpl[0]=tpl[0].substr(1);tpl[i-1]=tpl[i-1].substr(0,tpl[i-1].length-1);if(i<2){return tpl[0]}tpl=tpl;var delete_info;while(i--){if(i%2){tpl[i]=tpl[i].replace(me2p.Util.Template.pattern,function(){var m=arguments;if(m[10]){return m[10].replace(/(\w+)(?:\s*)=(?:\s*)(?:([a-zA-Z0-9_]+)|(.+))$/g,function(){var mm=arguments;var str="d."+mm[1]+"=";if(mm[2]){str+="d."+mm[2]}else{str+=mm[3].replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(m){return(m.substring(0,1)=="=")?"d."+m.replace("=",""):m})}return str})+";"}if(m[9]){return"s[i++]="+m[9].replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(m){return(m.substring(0,1)=="=")?"d."+m.replace("=",""):m})+";"}if(m[8]){return"s[i++]= d."+m[8]+";"}if(m[1]){return"if("+m[1].replace(reg[0],cb[0]).replace(/d\.(typeof) /,"$1 ").replace(/ d\.(instanceof) d\./," $1 ")+"){"}if(m[2]){return"}else if("+m[2].replace(reg[0],cb[0]).replace(/d\.(typeof) /,"$1 ").replace(/ d\.(instanceof) d\./," $1 ")+"){"}if(m[5]){delete_info=m[4];var _aStr=[];_aStr.push("var t#=d."+m[5]+"||{},p#=isArray(t#),i#=0;");_aStr.push("for(var x# in t#){");_aStr.push("if(!t#.hasOwnProperty(x#)){continue;}");_aStr.push("  if( (p# && isNaN(i#=parseInt(x#,10))) || (!p# && !t#.propertyIsEnumerable(x#)) ) continue;");_aStr.push("  d."+m[4]+"=t#[x#];");_aStr.push(m[3]?"d."+m[3]+"=p#?i#:x#;":"");return _aStr.join("").replace(reg[4],lev++)}if(m[6]){return"}else{"}if(m[7]){if(m[7]=="for"){return"delete d."+delete_info+"; };"}else{return"};"}}return m[0]})}else{if(tpl[i]==key){tpl[i]=""}else{if(tpl[i]){tpl[i]='s[i++]="'+tpl[i].replace(reg[1],cb[1])+'";'}}}}tpl=tpl.join("").replace(new RegExp(leftBrace,"g"),"{").replace(new RegExp(rightBrace,"g"),"}");var _aStr=[];_aStr.push("var s=[],i=0;");_aStr.push('function isArray(o){ return Object.prototype.toString.call(o) == "[object Array]" };');_aStr.push(tpl);_aStr.push('return s.join("");');tpl=eval("false||function(d){"+_aStr.join("")+"}");tpl=tpl(data);return tpl};me2p.LoginHelper=function(){this.messengerFrame=null;this.divContainer=null;this.openLoginWindow=function(j,f){var g=me2p.Service.APIUrl.loginComplete+"?"+me2p.Util.hashToQueryString(j);var h="hide_back_button=true&redirect_url="+encodeURIComponent(g);setTimeout(me2p.Util.fn(function(){me2p.Service.afterGetWebPageInfoAction.onLoginSuccess=f},this).bind(),1000);if(me2p.Messenger.flashConnectId){h+="&fId="+me2p.Messenger.flashConnectId}this.messengerFrame=document.createElement("iframe");this.messengerFrame.src=me2p.Service.APIUrl.loginProxy+"?"+h;this.divContainer=document.createElement("div");this.divContainer.style.position="absolute";this.divContainer.style.top="0px";this.divContainer.style.left="-10000px";this.divContainer.appendChild(this.messengerFrame);document.body.appendChild(this.divContainer)},this.gotoLoginPage=function(d){var g="redirect_url="+encodeURIComponent("http://plugin.me2day.net/mobile/metoo/metoo.nhn?"+me2p.Util.hashToQueryString(d));var f=me2p.Service.APIUrl.login+"&"+g;top.location.href=f}};if(typeof nhn=="undefined"){nhn={}}nhn.Me2DayFlashObject=(function(){var I={};var D="F"+new Date().getTime()+parseInt(Math.random()*1000000);var z=/MSIE/i.test(navigator.userAgent);var A=/FireFox/i.test(navigator.userAgent);var L=/Chrome/i.test(navigator.userAgent);var y="className, style, __flashID, classid, codebase, class, width, height, name, src, align, id, type, object, embed, movie, forwardInstall, requireVersion";var N=(navigator.appVersion.toLowerCase().indexOf("win")!=-1)?true:false;var x=(navigator.userAgent.indexOf("Opera")!=-1)?true:false;var K=function(f){var d,b,g;if(f==null){f=25}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");d=b.GetVariable("$version");if(d){return J(d)}}catch(g){}for(var c=f;c>0;c--){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+c);d=b.GetVariable("$version")}catch(g){continue}if(d){return J(d)}}return -1};var J=function(b){var c=b.split(" ")[1].split(",");return{major:c[0],minor:c[1],revision:c[2]}};var M=function(l){var h=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var d=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var c=navigator.plugins["Shockwave Flash"+d].description;var j=c.split(" ");var g=j[2].split(".");var m=g[0];var b=g[1];var f=j[3];if(f==""){f=j[4]}if(f[0]=="d"){f=f.substring(1)}else{if(f[0]=="r"){f=f.substring(1);if(f.indexOf("d")>0){f=f.substring(0,f.indexOf("d"))}}}h={major:m,minor:b,revision:f}}}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1){h=4}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1){h=3}else{if(navigator.userAgent.toLowerCase().indexOf("webtv")!=-1){h=2}else{if(z&&N&&!x){h=K(l)}}}}}return h};var C=function(b,c,d){version=M(b);if(version==-1){return false}else{if(version!=0){if(version.major>parseFloat(b)){return true}else{if(version.major==parseFloat(b)){if(version.minor>parseFloat(c)){return true}else{if(version.minor==parseFloat(c)){if(version.revision>=parseFloat(d)){return true}}}}}return false}}};var O=function(){alert("default install run")};var v=function(d,b,c){if(typeof d.attachEvent!="undefined"){d.attachEvent("on"+b,c)}else{d.addEventListener(b,c,true)}};var H=function(f,c){var j="";var h=true;var d="";var g;for(var b in f){if(h){h=false}else{j+=c}g=f[b];switch(typeof(g)){case"string":j+=b+"="+encodeURIComponent(g);break;case"number":j+=b+"="+encodeURIComponent(g.toString());break;case"boolean":j+=b+"="+(g?"true":"false");break;default:}}return j};var B=function(){obj=document.getElementsByTagName("OBJECT");for(var c=0,d;d=obj[c];c++){d.style.display="none";for(var f in d){if(typeof(d[f])=="function"){try{if(d.hasOwnProperty(f)){d[f]=null}}catch(b){}}}}};var G=function(g){g=g||window.event;var j=g.wheelDelta/(L?360:120);if(!j){j=-g.detail/3}var d=g.target||g.srcElement;if(!(new RegExp("(^|\b)"+D+"_([a-z0-9_$]+)(\b|$)","i").test(d.className))){return}var f=RegExp.$2;var h="layerX" in g?g.layerX:g.offsetX;var c="layerY" in g?g.layerY:g.offsetY;try{if(!d[f](j,h,c)){if(g.preventDefault){g.preventDefault()}else{g.returnValue=false}}}catch(b){}};var E=function(d){var c=null;var g=/Safari/.test(navigator.userAgent);var f=/MSIE/.test(navigator.userAgent);var b=function(m){var n={left:0,top:0};if(m.parentNode.tagName.toLowerCase()=="object"){m=m.parentNode}for(var j=m,l=j.offsetParent;j=j.parentNode;){if(j.offsetParent){n.left-=j.scrollLeft;n.top-=j.scrollTop}if(j==l){n.left+=m.offsetLeft+j.clientLeft;n.top+=m.offsetTop+j.clientTop;if(!j.offsetParent){n.left+=j.offsetLeft;n.top+=j.offsetTop}l=j.offsetParent;m=j}}return n};var h=function(l){var m={left:0,top:0};for(var j=l;j;j=j.offsetParent){m.left+=j.offsetLeft;m.top+=j.offsetTop}for(var j=l.parentNode;j;j=j.parentNode){if(j.tagName=="BODY"){break}if(j.tagName=="TR"){m.top+=2}m.left-=j.scrollLeft;m.top-=j.scrollTop}return m};return(g?b:h)(d)};var w=function(){var d=/MSIE/.test(navigator.userAgent);if(d){var b=document.documentElement.scrollLeft||document.body.scrollLeft;var c=document.documentElement.scrollTop||document.body.scrollTop;return{scrollX:b,scrollY:c}}else{return{scrollX:window.pageXOffset,scrollY:window.pageYOffset}}};var F=function(){var c=/MSIE/.test(navigator.userAgent);var b={};if(c){b.nInnerWidth=document.documentElement.clientWidth||document.body.clientWidth;b.nInnerHeight=document.documentElement.clientHeight||document.body.clientHeight}else{b.nInnerWidth=window.innerWidth;b.nInnerHeight=window.innerHeight}return b};I.showAt=function(c,b){document.getElementById(c).innerHTML=b};I.show=function(h,g,f,c,m,d,j){if(m&&m.requireVersion){var l=m.requireVersion.split(".");var b=C(l[0],l[1],l[2]);if(!b){if(m.forwardInstall){m.forwardInstall()}else{O()}return null}}document.write(I.generateTag(h,g,f,c,m,d,j))};I.generateTag=function(b,t,s,n,o,r,f){s=s||"100%";n=n||"100%";f=f||"9,0,0,0";r=r||"middle";var q=I.getDefaultOption();if(o){if(o.flashVars){if(typeof(o.flashVars)=="object"){o.flashVars=H(o.flashVars,"&")}o.flashVars+="&"}else{o.flashVars=""}o.flashVars+="__flashID="+t;for(var m in o){if(y.indexOf(m)>=0){continue}q[m]=o[m]}}var j="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000";var g="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+f;var l="position:relative !important;";var h=D+"_"+q.wheelHandler;var d=[];var p=[];d.push('<object classid="'+j+'" codebase="'+g+'" class="'+h+'" style="'+l+'" " width="'+s+'" height="'+n+'" id="'+t+'" align="'+r+'">');d.push('<param name="movie" value="'+b+'" />');p.push('<embed width="'+s+'" height="'+n+'" name="'+t+'" class="'+h+'" style="'+l+'" " src="'+b+'" align="'+r+'" ');for(var c in q){d.push('<param name="'+c+'" value="'+q[c]+'" />');p.push(c+'="'+q[c]+'" ')}p.push('type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />');d.push(p.join(""));d.push("</object>");if(v){v(window,"unload",B);v(document,!A?"mousewheel":"DOMMouseScroll",G);v=null}return(z)?d.join(""):p.join("")};I.getDefaultOption=function(){return{quality:"high",bgColor:"#FFFFFF",allowScriptAccess:"always",wmode:"window",menu:"false",allowFullScreen:"true",wheelHandler:"messenger"}};I.find=function(b,c){c=c||document;return c[b]||c.all[b]};I.getPlayerVersion=function(){return M()};I.setWidth=function(c,b){I.find(c).width=b};I.setHeight=function(c,b){I.find(c).height=b};I.setSize=function(b,c,d){I.find(b).height=d;I.find(b).width=c};I.getPositionObj=function(c){var b=I.find(c);if(b==null){return null}var d=E(b);var g=w();var f={};f.absoluteX=d.left;f.absoluteY=d.top;f.scrolledX=f.absoluteX-g.scrollX;f.scrolledY=f.absoluteY-g.scrollY;f.browserWidth=F().nInnerWidth;return f};I.getSSCLogParam=function(){var b=[];if(window.g_ssc){b.push("ssc="+g_ssc)}else{b.push("ssc=decide.me")}if(window.g_pid){b.push("&p="+g_pid)}if(window.g_query){b.push("&q="+encodeURIComponent(g_query))}if(window.g_sid){b.push("&s="+g_sid)}return b.join("")};return I})();function receiver_init(d){if(!me2p.Messenger){me2p.log("receiver messenger initialize not yet");return}else{}var g=me2p.Messenger.flashConnectId;var f=nhn.Me2DayFlashObject.find(d);f.connect(g);me2p.Messenger.bInitialed=true}function receiver_error(d,c){me2p.log("receiver_error : name = "+d+", message = "+c)}function sender_init(d){if(!me2p.Messenger){me2p.log("sender messenger initialize not yet");return}var g=me2p.Messenger.flashConnectId;var f=nhn.Me2DayFlashObject.find(d);f.connect(g);me2p.Messenger.bInitialed=true}function sender_error(d,c){}function sendNotification(c){var d=nhn.Me2DayFlashObject.find("DomainBridgeSender");d.sendNotification(c)}me2p.options={};me2p.parseElements=function(){me2p.Main.parsePluginElements()};me2p.updateElements=function(){me2p.Main.createParams();me2p.Main.reqWebPageInfoAndUpdateUI();if(!me2p_config_isMobile){me2p.Main.initMessenger()}};me2p.updateElementsForCallback=function(b){me2p.Main.createParams();me2p.Service.afterGetWebPageInfoAction.callback_DA=b;me2p.Service.requestWebPageInfo(me2p.Main.webPageInfoParams,null);if(!me2p_config_isMobile){me2p.Main.initMessenger()}};me2p.setOptions=function(b){var b=(!b)?{}:b;if(typeof b.request_api=="undefined"){b.request_api=true}if(typeof b.message_template=="undefined"){b.message_template=1}me2p.options.request_api=b.request_api;me2p.options.message_template=b.message_template};me2p.setMessageTemplate=function(){if(me2p.options.message_template==3){me2p.MessageTemplate=me2p.MessageTemplate_DA;me2p.MessageTemplate2=me2p.MessageTemplate_DA}};me2p.initialize=function(b){me2p.setOptions(b);me2p.setMessageTemplate();me2p.parseElements();if(me2p.options.request_api){me2p.updateElements()}};me2p.Main={messenger:null,title:null,webPageInfoParams:null,urlMap:{},isWebPageInfoRequested:false,parsePluginElements:function(){var o=function(){me2p.Main.urlMap={};me2p.MetooHandler.reset()};o();var n=document.getElementsByTagName("meta");var m;for(var q=0,r=n.length;q<r;q++){if(n[q].getAttribute("property")=="me2:title"){m=n[q].content}}if(!m){for(var q=0,r=n.length;q<r;q++){if(n[q].getAttribute("property")=="og:title"){m=n[q].content}}}if(!m){m=document.title}this.title=m;var s=me2p.Sizzle("."+me2p.ElementClassNames.BUTTON_CONTAINER);for(var p=0,r=s.length;p<r;p++){var t=s[p].getAttribute(me2p.AttributeNames.URL);this.urlMap[t]=true}for(var t in this.urlMap){var l=me2p.Sizzle("."+me2p.ElementClassNames.BUTTON_CONTAINER+"["+me2p.AttributeNames.URL+"='"+t+"']");for(var p=0,r=l.length;p<r;p++){me2p.MetooHandler.register(l[p],t,p)}}},createParams:function(){var h="";var f=[];for(var l in this.urlMap){if(l.indexOf("http")<0){continue}f.push(l)}for(var j=0,g=f.length;j<g;j++){h+=("url="+encodeURIComponent(f[j])+(j==(g-1)?"":"&"))}if(h==""){return}if(me2p.MetooHandler.pluginKey){h+="&plugin_key="+encodeURIComponent(me2p.MetooHandler.pluginKey)}h+="&plugin_referer="+encodeURIComponent(location.href);this.webPageInfoParams=h},reqWebPageInfoAndUpdateUI:function(d){if(d){d=me2p.Util.toJson(d);if(d.createdId){me2p.Service.createdId=d.createdId}}var c=me2p.Util.fn(function(){me2p.MetooHandler.updateAll()},this).bind();me2p.Service.requestWebPageInfo(this.webPageInfoParams,c)},initMessenger:function(){if(this.messenger==null){this.messenger=new me2p.Messenger.Receiver()}},receiverTest:function(b){me2p.log("receiverTest="+b)},showError:function(b){b=me2p.Util.toJson(b);if(b.error=="8000"){alert(me2p.MessageText["8000"])}else{alert(me2p.MessageText["016"])}return}};if(me2p_config_autoRender){(function(){if(document.addEventListener){window.addEventListener("load",me2p.initialize,false)}else{if(document.attachEvent){window.attachEvent("onload",me2p.initialize)}else{var b=window.onload;window.onload=function(){me2p.initialize();if(b){b()}}}}})()}if(typeof nec=="undefined"){nec={}}if(typeof ecsrv=="undefined"){var ecsrv="ec.naver.com"}if(typeof ecModule=="undefined"){var ecModule="ec"}nec.ecImg={};nec.eccnt=0;nec.version="0.0.9";function ectrack(d,g){var j="";var c=(window.location.protocol=="https:")?"https:":"http:";j=c+"//"+ecsrv+"/"+ecModule+"?";j+="ek="+encodeURIComponent(d);j+="&ev="+encodeURIComponent(document.URL);j+="&u="+encodeURIComponent(g);if(document.images){var b=new Date().getTime();j+="&time="+b;var f=window.nec.eccnt++;var l=new Image();window.nec.ecImg[f]=l;l.onerror=(l.onload=(l.onabort=function(){delete window.nec.ecImg[f]}));l.src=j}return true}function ectrackurl(d,f){var g="";var b=new Date().getTime();var c=(window.location.protocol=="https:")?"https:":"http:";g=c+"//"+ecsrv+"/"+ecModule+"?";g+="ek="+encodeURIComponent(d);g+="&ev="+encodeURIComponent(document.URL);g+="&u="+encodeURIComponent(f);g+="&time="+b;return g}if(typeof spi=="undefined"){var spi={}}spi.util={byteLen:function(c){var d,b=0;for(d=0;d<c.length;d++){(c.charCodeAt(d)>255)?b+=2:b++}return b},byteSubStr:function(l,h,g){var f=[];var d=0;for(var j=0,c=l.length;j<c;j++){if(l.charCodeAt(j)>127){f.push(j);f.push(j)}else{f.push(j)}}if(f[h]==f[g]){return false}else{return l.substring(f[h],f[g])}},requestJsonp:function(s,h,l,j){var r=document.head?document.head:document.getElementsByTagName("head")[0];var o=document.createElement("script");var n="spi_"+new Date().getTime();var m=(typeof a=="function")?setTimeout(a,5000):null;var b="";h=h||{};window[n]=function(){if(m){clearInterval(m)}l.apply(null,arguments);window[n]=null;r.removeChild(o)};if(s.indexOf("?")!=-1){s+=("&"+(typeof j!="undefined"?j:"_callback")+"=window."+n)}else{s+=("?"+(typeof j!="undefined"?j:"_callback")+"=window."+n)}for(k in h){if(h.hasOwnProperty(k)){b+=encodeURIComponent(k)+"="+encodeURIComponent(h[k])+"&"}}o.src=(s+"&"+b);r.appendChild(o)},strToJson:function(sObject){try{if(/^(?:\s*)[\{\[]/.test(sObject)){sObject=eval("("+sObject+")")}}catch(e){sObject={}}return sObject},toJson:function(b){if(!b){return{}}if(typeof b=="string"){return this.strToJson(b)}return b},fn:function(func,thisObject){var cl=arguments.callee;if(func instanceof cl){return func}if(!(this instanceof cl)){return new cl(func,thisObject)}this._events=[];this._tmpElm=null;this._key=null;if(typeof func=="function"){this._func=func;this._this=thisObject}else{if(typeof func=="string"&&typeof thisObject=="string"){this._func=eval("false||function("+func+"){"+thisObject+"}")}}},offset:function(g,c,b){if(!g){return false}var d=null;if(typeof c=="number"&&typeof b=="number"){if(isNaN(parseInt(g.style.top,10))){g.style.top="0px"}if(isNaN(parseInt(g.style.left,10))){g.style.left="0px"}var l=this.offset(g);var m={top:c-l.top,left:b-l.left};g.style.top=parseInt(g.style.top,10)+m.top+"px";g.style.left=parseInt(g.style.left,10)+m.left+"px";return this}var f=/Safari/.test(navigator.userAgent);var o=/MSIE/.test(navigator.userAgent);var n=o?navigator.userAgent.match(/(?:MSIE) ([0-9.]+)/)[1]:0;var h=function(q){var p={left:0,top:0};for(var s=q,r=s.offsetParent;s=s.parentNode;){if(s.offsetParent){p.left-=s.scrollLeft;p.top-=s.scrollTop}if(s==r){p.left+=q.offsetLeft+s.clientLeft;p.top+=q.offsetTop+s.clientTop;if(!s.offsetParent){p.left+=s.offsetLeft;p.top+=s.offsetTop}r=s.offsetParent;q=s}}return p};var j=function(t){var x={left:0,top:0};var y=t.ownerDocument||t.document||document;var r=y.documentElement;var s=y.body;if(t.getBoundingClientRect){if(!d){var w=(window==top);if(!w){try{w=(window.frameElement&&window.frameElement.frameBorder==1)}catch(v){}}if((o&&n<8&&window.external)&&w){d={left:2,top:2};oBase=null}else{d={left:0,top:0}}}var u=t.getBoundingClientRect();if(t!==r&&t!==s){x.left=u.left-d.left;x.top=u.top-d.top;x.left+=r.scrollLeft||s.scrollLeft;x.top+=r.scrollTop||s.scrollTop}}else{if(y.getBoxObjectFor){var u=y.getBoxObjectFor(t);var p=y.getBoxObjectFor(r||s);x.left=u.screenX-p.screenX;x.top=u.screenY-p.screenY}else{for(var q=t;q;q=q.offsetParent){x.left+=q.offsetLeft;x.top+=q.offsetTop}for(var q=t.parentNode;q;q=q.parentNode){if(q.tagName=="BODY"){break}if(q.tagName=="TR"){x.top+=2}x.left-=q.scrollLeft;x.top-=q.scrollTop}}}return x};return(f?h:j)(g)}};spi.util.fn.prototype.bind=function(){var h=arguments;var b=this._func;var f=this._this;var j=function(){var c=arguments;if(h.length){c=h.concat(c)}return b.apply(f,c)};return j};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(d){var f=this.length>>>0;var g=Number(arguments[1])||0;g=(g<0)?Math.ceil(g):Math.floor(g);if(g<0){g+=f}for(;g<f;g++){if(g in this&&this[g]===d){return g}}return -1}}if(typeof nhn=="undefined"){nhn={}}nhn.socialplugin={spiObj:null,arSpiObjs:null,drawSpiLayer:function(c,b){this.spiObj=new SocialPlugIn();this.spiObj.setMultiMode(false);this.spiObj.drawSpiLayer(c,b)},drawMultiSpiLayer:function(b){var c=0;if(b==null||b=="undefined"){return}this.arSpiObjs=[];for(var c=0;c<b.length;c++){this.arSpiObjs[c]=new SocialPlugIn();this.arSpiObjs[c].setMultiMode(true);this.arSpiObjs[c].drawSpiLayer(b[c].data,b[c].layerId)}me2p.initialize();for(c=0;c<this.arSpiObjs.length;c++){this.arSpiObjs[c]._initializeMe2p()}},destroy:function(){if(this.spiObj){this.spiObj.destroy();this.spiObj=null}}};function SocialPlugIn(){this._CHARSET="euc-kr";this._bMultiMode=false;this._htEvent={};this._htElement={};this._htInitData={};this._sUniqueId="";this._sSpiLayerId="";this._sMarkupStyle="";this._sCssStyle="";this._sAlign="default";this._tTimer=null;this._sBmkUrlId="";this._nMe2Count=0;this._arButtons=null;this._htAPI={API000:"http://gn.naver.com/getLoginStatusLv2.nhn",API101:"http://me2do.naver.com/common/requestJsonp.nhn",API201:"http://relation.commcast.naver.com",API301:"http://bookmark.naver.com/api/exist_v2.nhn",API302:"http://bookmark.naver.com/apiSave.nhn",API303:"http://bookmark.naver.com/apiDelete.nhn",API501:"http://mail.naver.com/write/tmpl",API502:"http://cafe.naver.com/CafeScrapView.nhn",API503:"http://blog.naver.com/ScrapForm.nhn",API504:"http://plugin.me2day.net/v1/me2post/create_post_form.nhn",API505:"https://www.facebook.com/sharer/sharer.php",API506:"https://twitter.com/share",API507:"http://yozm.daum.net/api/popup/prePost",API508:"http://memo.naver.com/plugin/view.nhn",API509:"https://calendar.naver.com/cplugin.nhn",API510:"http://webmsg.naver.com/api/send_url.php",API511:"http://www.band.us/plugin/share"};this._htClickLog={me:{baseUrl:"http://social.naver.com/v/click",key:"pc.subs"},mecount:{baseUrl:"http://social.naver.com/v/click",key:"pc.subs.count"},bookmark:{baseUrl:"http://social.naver.com/v/click",key:"pc.bmk"},me2:{baseUrl:"http://social.naver.com/v/click",key:"pc.me2"},me2count:{baseUrl:"http://social.naver.com/v/click",key:"pc.me2.count"},release:{baseUrl:"http://social.naver.com/v/click",key:"pc.snd"},copyurl:{baseUrl:"http://social.naver.com/v/click",key:"pc.cpurl"},mail:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndmail"},blog:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndblog"},memo:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndmemo"},calendar:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndclnd"},cafe:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndcafe"},me2post:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndme2"},facebook:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndfb"},twitter:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndtw"},yozm:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndyz"},sms:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndsms"},band:{baseUrl:"http://social.naver.com/v/click",key:"pc.sndband"},melink:{baseUrl:"http://social.naver.com/v/click",key:"pc.melnk"},bmklink:{baseUrl:"http://social.naver.com/v/click",key:"pc.bmklnk"},event:{baseUrl:"http://social.naver.com/v/click",key:"pc.evt"}};this._htFinishLog={me:{baseUrl:"http://social.naver.com/v/finish",key:"pc.subs"},bookmark:{baseUrl:"http://social.naver.com/v/finish",key:"pc.bmk"},me2:{baseUrl:"http://social.naver.com/v/finish",key:"pc.m2"},mail:{baseUrl:"http://social.naver.com/v/finish",key:"pc.sndmail"},blog:{baseUrl:"http://social.naver.com/v/finish",key:"pc.sndblog"},cafe:{baseUrl:"http://social.naver.com/v/finish",key:"pc.sndcafe"},me2post:{baseUrl:"http://social.naver.com/v/finish",key:"pc.sndme2"}};this._htService={apps:"소셜앱스",artssearch:"미술검색",auto:"자동차",bboom:"뿜",blog:"블로그",book:"책",boom:"붐",cafe:"카페",cartoon:"웹툰 ",cnnaver:"중국생활정보",dic:"사전",file:"자료실",finance:"금융",health:"건강",jpdic:"모바일 일본어 번역기",kin:"지식iN",kitchen:"키친",land:"부동산",luckytoday:"럭키투데이",map:"지도",movie:"영화",music:"뮤직 ",navercast:"네이버캐스트",news:"뉴스",newscast:"뉴스캐스트 ",newslibrary:"뉴스라이브러리",magazine:"매거진캐스트",nstore:"N스토어",opencast:"오픈캐스트",photo:"포토갤러리",playnet:"플레이넷",qrcode:"QR코드",shopingcast:"쇼핑캐스트",shopn:"샵N",shopping:"지식쇼핑",shoppinginfo:"지식쇼핑",spdic:"스페인어사전",sports:"스포츠",terms:"지식백과",tvcast:"동영상서비스",tvguide:"TV편성표",ugcplayer:"UGC플레이어",weather:"날씨",wingbus:"윙버스",wingspoon:"윙스푼",wordbook:"영단어장"};this._htStyleSheet={standard:"http://spi.naver.net/css/20131010/spi_standard_20131010.css"};this._htMarkUp={standard:"<div id='_spi_layer_id_' class='spi_default'>	<ul class='spi_lst'>		<li class='_spi_btn_me spi_btn_me' style='display:none;'><a href='#' class='_spi_btn_me _btn_me' title='네이버me 구독함에서 편하게 받아보세요.' target='_blank' button='me'><span class='_spi_btn_me'></span>구독<em></em></a></li>		<li class='_spi_btn_band spi_btn_band' style='display:none'><a href='#' class='_spi_btn_band _btn_band' title='밴드 보내기' target='_blank' button='band'><span class='_spi_btn_band'></span>밴드<em></em></a></li>		<li class='_spi_btn_bookmark spi_btn_bookmark' style='display:none;'><a href='#' title='네이버 북마크를 사용해보세요' class='_spi_bmk_load _spi_btn_bookmark _btn_bookmark' target='_blank'  button='bookmark'><span class='_spi_btn_bookmark'></span>북마크<em></em></a></li>		<li class='_spi_btn_me2day me2button_container spi_btn_me2day' plugin_key='_me2key_' href='_me2source_' before_metoo_class='none' after_metoo_class='spi_dimmed'><a href='#' class='_spi_btn_me2day _btn_me2day me2button_button' title='미투하기' target='_blank'  button='me2day'><span class='_spi_btn_me2day'></span>미투<em class='_spi_btn_me2day'></em></a>			<ul class='spi_cnt_tooltip me2button_count_bubble' style='display:none;'><li><strong><a href='#' class='_spi_btn_me2count _btn_me2count me2button_count spi_cnt' button='me2count'>0</a></strong><em class='_spi_btn_me2count'></em></li></ul>			<div class='_me2button_layer me2button_layer spi_ly_style' success_icon_class='spi_icon1' error_icon_class='spi_icon2' style='display:none'>				<p class='me2button_layer_message spi_ly_msg spi_icon2'></p>				<p class='me2button_layer_signin spi_ly_cfm'></p>				<button type='button' title='닫기' class='me2button_layer_close spi_me2btn_close'><span></span><em>X</em></button>			</div>		</li>		<li class='_spi_btn_release_ spi_btn_release'><a href='#' class='_spi_btn_release_ _btn_postbtn' title='보내기' button='postbtn'><span class='_spi_btn_release_ spi_bg_release'></span>보내기<em class='_spi_btn_release_'></em><span class='_spi_btn_release_ spi_bu_arr'></span></a>			<ul class='_spi_lst_release spi_lst_release' style='display:none;'>				<li class='_spi_lnk_url spi_lnk_url' style='display:none;'><a href='#' class='_blur_1 _spi_lnk_url' title='URL복사' target='_blank'><span class='_spi_lnk_url'></span><span class='_spi_lnk_url ls'>URL</span>복사</a></li>				<li class='_spi_lnk_mail spi_lnk_mail' style='display:none;'><a href='#' class='_blur_2 _spi_lnk_mail' title='메일 보내기' target='_blank'><span class='_spi_lnk_mail'></span>메일</a></li>				<li class='_spi_lnk_cafe spi_lnk_cafe' style='display:none;'><a href='#' class='_blur_3 _spi_lnk_cafe' title='카페 보내기' target='_blank'><span class='_spi_lnk_cafe'></span>카페</a></li>				<li class='_spi_lnk_blog spi_lnk_blog' style='display:none;'><a href='#' class='_blur_4 _spi_lnk_blog' title='블로그 보내기' target='_blank'><span class='_spi_lnk_blog'></span>블로그</a></li>				<li class='_spi_lnk_memo spi_lnk_memo' style='display:none;'><a href='#' class='_blur_5 _spi_lnk_memo' title='메모 보내기' target='_blank'><span class='_spi_lnk_memo'></span>메모</a></li>				<li class='_spi_lnk_calendar spi_lnk_calendar' style='display:none;'><a href='#' class='_blur_6 _spi_lnk_calendar' title='일정 보내기' target='_blank'><span class='_spi_lnk_calendar'></span>일정</a></li>				<li class='_spi_lnk_me2post spi_lnk_me2' style='display:none;'><a href='#' class='_blur_7 _spi_lnk_me2post' title='미투 보내기' target='_blank'><span class='_spi_lnk_me2post'></span>미투데이</a></li>				<li class='_spi_lnk_facebook spi_lnk_facebook' style='display:none;'><a href='#' class='_blur_8 _spi_lnk_facebook' title='페이스북 보내기' target='_blank'><span class='_spi_lnk_facebook'></span>페이스북</a></li>				<li class='_spi_lnk_twitter spi_lnk_twitter' style='display:none;'><a href='#' class='_blur_9 _spi_lnk_twitter' title='트윗하기' target='_blank'><span class='_spi_lnk_twitter'></span>트위터</a></li>			</ul>		</li>	</ul>	<div class='_ly_bmk_ok spi_ly_pop' style='display:none;left:57px;top:31px;width:242px'>		<p class='spi_dsc'>북마크 되었습니다.<br> <a href='http://me.naver.com/tab/bookmark.nhn' target='_blank' class='_ly_bmk_ok_cls _ly_bmk_lnk spi_impact'>네이버me 북마크함 가기</a></p>		<button class='_ly_bmk_ok_cls spi_close' type='button'><span class='_ly_bmk_ok_cls' title='북마크 레이어 닫기'></span><em class='_ly_bmk_ok_cls'>X</em></button>	</div>	<div class='_ly_bmk_cnf spi_ly_pop' style='display:none;left:57px;top:31px;width:243px'>		<p class='spi_dsc'>현재 북마크 되어있습니다.<br> 북마크를 해제하시겠습니까?</p>		<div class='spi_btn'>			<a href='#' class='_ly_bmk_cnf_y spi_y' target='_blank'><span class='_ly_bmk_cnf_y'></span>예</a>			<a href='#' class='_ly_bmk_cnf_n spi_n' target='_blank'><span class='_ly_bmk_cnf_n'></span>아니오</a>		</div>		<button class='_ly_bmk_cnf_cls spi_close' type='button'><span class='_ly_bmk_cnf_cls' title='북마크 레이어 닫기'></span><em class='_ly_bmk_cnf_cls'>X</em></button>	</div>	<div class='_ly_bmk_err spi_ly_pop' style='display:none;left:60px;top:31px;width:243px'>		<p class='spi_dsc'>서버 접속이 원활하지 않습니다.<br> 잠시 후 다시 시도해 주십시오.</p>		<button class='_ly_bmk_err_cls spi_close' type='button'><span class='_ly_bmk_err_cls' title='북마크 레이어 닫기'></span><em class='_ly_bmk_err_cls'>X</em></button>	</div>	<div class='_ly_bmk_ros spi_ly_pop' style='display:none;left:60px;top:31px;width:243px'>		<p class='spi_dsc'>북마크 서비스 점검 중으로,<br>현재 북마크 읽기만 가능하오니<br>이용에 참고해 주시기 바랍니다.</p>		<button class='_ly_bmk_ros_cls spi_close' type='button'><span class='_ly_bmk_ros_cls' title='북마크 레이어 닫기'></span><em class='_ly_bmk_ros_cls'>X</em></button>	</div>	<div class='_ly_url_ok spi_ly_pop' style='display:none;left:57px;top:31px;width:243px'>		<p class='spi_dsc'>URL이 복사되었습니다.<br>원하는 곳에 붙여넣기(Ctrl+V)해 주세요.</p>		<button type='button' class='_ly_url_ok_cls spi_close'><span class='_ly_url_ok_cls' title='URL복사 레이어 닫기'></span><em class='_ly_url_ok_cls'>X</em></button>	</div>	<div class='_ly_pop spi_ly_pop ly_pop_v1' style='display:none;left:0;top:-82px;width:213px'>		<p class='_ly_pop spi_dsc'>이 _feed_info_ 마음에 드셨다면<br><a href='http://me.naver.com/' target='_blank' class='_ly_pop _ly_me_lnk spi_impact'>네이버me</a>에서 편하게 받아보세요.</p>		<div class='_ly_pop spi_ico_arr'></div>	</div></div>",text:"<div id='_spi_layer_id_' class='spi_default spi_default_v1'>   <ul class='spi_lst _text_style_'>   	<li class='_spi_btn_me spi_btn_me' style='display:none;'><a href='#' class='_spi_btn_me _btn_me _text_class_' title='네이버me 구독함에서 편하게 받아보세요.' target='_blank' button='me'><span class='_spi_btn_me'></span>구독<em class='_spi_btn_me'></em></a></li>		<li class='_spi_btn_band spi_btn_band' style='display:none'><a href='#' class='_spi_btn_band _btn_band _text_class_' title='밴드 보내기' target='_blank' button='band'><span class='_spi_btn_band'></span>밴드<em class='_spi_sep1 _bar_class_'></em></a></li>   	<li class='_spi_btn_bookmark spi_btn_bookmark' style='display:none;'><a href='#' title='네이버 북마크를 사용해보세요' class='_spi_bmk_load _spi_btn_bookmark _btn_bookmark _text_class_' target='_blank' button='bookmark'><span class='_spi_btn_bookmark'></span>북마크<em class='_spi_sep2 _bar_class_'></em></a></li>		<li class='_spi_btn_me2day me2button_container spi_btn_me2day' plugin_key='_me2key_' href='_me2source_' before_metoo_class='none' after_metoo_class='spi_dimmed'><a href='#' class='_spi_btn_me2day _btn_me2day me2button_button _text_class_' title='미투하기' target='_blank' button='me2day'><span class='_spi_btn_me2day'></span>미투<em class='_spi_sep3 _bar_class_'></em></a>			<ul class='spi_cnt_tooltip me2button_count_bubble' style='display:none;'><li><strong><a href='#' class='_spi_btn_me2count _btn_me2count me2button_count spi_cnt' target='_blank' button='me2count'>0</a></strong><em class='_me_sep2'></em></li></ul>			<div class='_me2button_layer me2button_layer spi_ly_style' success_icon_class='spi_icon1' error_icon_class='spi_icon2' style='display:none'>				<p class='me2button_layer_message spi_ly_msg spi_icon2'></p>				<p class='me2button_layer_signin spi_ly_cfm'></p>				<button type='button' title='닫기' class='me2button_layer_close spi_me2btn_close'><span></span><em>X</em></button>			</div>		</li>   	<li class='_spi_btn_release_ spi_btn_release'><a href='#' class='_spi_btn_release_ _btn_postbtn _text_class_' target='_blank' button='postbtn'><span class='_spi_btn_release_ spi_bg_release'></span>보내기<em class='_spi_sep3 _bar_class_'></em><span class='_spi_btn_release_ spi_bu_arr'></span></a>      		<ul class='_spi_lst_release spi_lst_release' style='display:none;'>				<li class='_spi_lnk_url spi_lnk_url' style='display:none;'><a href='#' class='_blur_1 _spi_lnk_url' title='URL복사' target='_blank'><span class='_spi_lnk_url'></span><span class='_spi_lnk_url ls'>URL</span>복사</a></li>       		<li class='_spi_lnk_mail spi_lnk_mail' style='display:none;'><a href='#' class='_blur_2 _spi_lnk_mail' title='메일 보내기' target='_blank'><span class='_spi_lnk_mail'></span>메일</a></li>       		<li class='_spi_lnk_cafe spi_lnk_cafe' style='display:none;'><a href='#' class='_blur_3 _spi_lnk_cafe' title='카페 보내기' target='_blank'><span class='_spi_lnk_cafe'></span>카페</a></li>       		<li class='_spi_lnk_blog spi_lnk_blog' style='display:none;'><a href='#' class='_blur_4 _spi_lnk_blog' title='블로그 보내기' target='_blank'><span class='_spi_lnk_blog'></span>블로그</a></li>				<li class='_spi_lnk_memo spi_lnk_memo' style='display:none;'><a href='#' class='_blur_5 _spi_lnk_memo' title='메모 보내기' target='_blank'><span class='_spi_lnk_memo'></span>메모</a></li>				<li class='_spi_lnk_calendar spi_lnk_calendar' style='display:none;'><a href='#' class='_blur_6 _spi_lnk_calendar' title='일정 보내기' target='_blank'><span class='_spi_lnk_calendar'></span>일정</a></li>       		<li class='_spi_lnk_me2post spi_lnk_me2' style='display:none;'><a href='#' class='_blur_7 _spi_lnk_me2post' title='미투 보내기' target='_blank'><span class='_spi_lnk_me2post'></span>미투데이</a></li>       		<li class='_spi_lnk_facebook spi_lnk_facebook' style='display:none;'><a href='#' class='_blur_8 _spi_lnk_facebook' title='페이스북 보내기' target='_blank'><span class='_spi_lnk_facebook'></span>페이스북</a></li>       		<li class='_spi_lnk_twitter spi_lnk_twitter' style='display:none;'><a href='#' class='_blur_9 _spi_lnk_twitter' title='트윗하기' target='_blank'><span class='_spi_lnk_twitter'></span>트위터</a></li>       	</ul>   	</li>   </ul>	<div class='_ly_bmk_ok spi_ly_pop' style='display:none;left:57px;top:31px;width:242px'>		<p class='spi_dsc'>북마크 되었습니다.<br> <a href='http://me.naver.com/tab/bookmark.nhn' target='_blank' class='_ly_bmk_ok_cls _ly_bmk_lnk spi_impact'>네이버me 북마크함 가기</a></p>		<button class='_ly_bmk_ok_cls spi_close' type='button'><span class='_ly_bmk_ok_cls'></span><em class='_ly_bmk_ok_cls'>X</em></button>	</div>	<div class='_ly_bmk_cnf spi_ly_pop' style='display:none;left:57px;top:31px;width:243px'>		<p class='spi_dsc'>현재 북마크 되어있습니다.<br> 북마크를 해제하시겠습니까?</p>		<div class='spi_btn'>			<a href='#' class='_ly_bmk_cnf_y spi_y' target='_blank'><span class='_ly_bmk_cnf_y'></span>예</a>			<a href='#' class='_ly_bmk_cnf_n spi_n' target='_blank'><span class='_ly_bmk_cnf_n'></span>아니오</a>		</div>		<button class='_ly_bmk_cnf_cls spi_close' type='button'><span class='_ly_bmk_cnf_cls' title='북마크 레이어 닫기'></span><em class='_ly_bmk_cnf_cls'>X</em></button>	</div>	<div class='_ly_bmk_err spi_ly_pop' style='display:none;left:60px;top:31px;width:243px'>		<p class='spi_dsc'>서버 접속이 원활하지 않습니다.<br> 잠시 후 다시 시도해 주십시오.</p>		<button class='_ly_bmk_err_cls spi_close' type='button'><span class='_ly_bmk_err_cls' title='북마크 레이어 닫기'></span><em class='_ly_bmk_err_cls'>X</em></button>	</div>	<div class='_ly_bmk_ros spi_ly_pop' style='display:none;left:60px;top:31px;width:243px'>		<p class='spi_dsc'>북마크 서비스 점검 중으로,<br>현재 북마크 읽기만 가능하오니<br>이용에 참고해 주시기 바랍니다.</p>		<button class='_ly_bmk_ros_cls spi_close' type='button'><span class='_ly_bmk_ros_cls' title='북마크 레이어 닫기'></span><em class='_ly_bmk_ros_cls'>X</em></button>	</div>	<div class='_ly_url_ok spi_ly_pop' style='display:none;left:57px;top:31px;width:243px'>		<p class='spi_dsc'>URL이 복사되었습니다.<br>원하는 곳에 붙여넣기(Ctrl+V)해 주세요.</p>		<button type='button' class='_ly_url_ok_cls spi_close'><span class='_ly_url_ok_cls' title='URL복사 레이어 닫기'></span><em class='_ly_url_ok_cls'>X</em></button>	</div>	<div class='_ly_pop spi_ly_pop ly_pop_v1' style='display:none;left:0;top:-82px;width:213px'>		<p class='_ly_pop spi_dsc'>이 _feed_info_ 마음에 드셨다면<br><a href='http://me.naver.com/' target='_blank' class='_ly_pop _ly_me_lnk spi_impact'>네이버me</a>에서 편하게 받아보세요.</p>		<div class='_ly_pop spi_ico_arr'></div>	</div></div>",community:"<div id='_spi_layer_id_' class='spi_default spi_default_v1 spi_icon'>   <ul class='spi_lst _text_style_'>   	<li class='_spi_btn_me spi_btn_me' style='display:none;'><a href='#' class='_spi_btn_me _btn_me _text_class_' title='네이버me 구독함에서 편하게 받아보세요.' target='_blank' button='me'><span class='_spi_btn_me'></span>구독<em class='_spi_btn_me'></em></a></li>		<li class='_spi_btn_band spi_btn_band' style='display:none'><a href='#' class='_spi_btn_band _btn_band' title='밴드 보내기' target='_blank' button='band'><span class='_spi_btn_band'></span>밴드<em class='_spi_sep1 _bar_class_'></em></a></li>   	<li class='_spi_btn_bookmark spi_btn_bookmark' style='display:none;'><a href='#' title='네이버 북마크를 사용해보세요' class='_spi_bmk_load _spi_btn_bookmark _btn_bookmark _text_class_' target='_blank' button='bookmark'><span class='_spi_btn_bookmark'></span>북마크<em class='_spi_sep2 _bar_class_'></em></a></li>		<li class='_spi_btn_me2day me2button_container spi_btn_me2day' plugin_key='_me2key_' href='_me2source_' before_metoo_class='none' after_metoo_class='spi_dimmed'><a href='#' class='_spi_btn_me2day _btn_me2day me2button_button _text_class_' title='미투하기' target='_blank' button='me2day'><span class='_spi_btn_me2day'></span>미투<em class='_spi_sep3 _bar_class_'></em></a>			<ul class='spi_cnt_tooltip me2button_count_bubble' style='display:none;'><li><strong><a href='#' class='_spi_btn_me2count _btn_me2count me2button_count spi_cnt' target='_blank' button='me2count'>0</a></strong><em class='_me_sep2'></em></li></ul>			<div class='_me2button_layer me2button_layer spi_ly_style' success_icon_class='spi_icon1' error_icon_class='spi_icon2' style='display:none'>				<p class='me2button_layer_message spi_ly_msg spi_icon2'></p>				<p class='me2button_layer_signin spi_ly_cfm'></p>				<button type='button' title='닫기' class='me2button_layer_close spi_me2btn_close'><span></span><em>X</em></button>			</div>		</li>   	<li class='_spi_btn_release_ spi_btn_release'><a href='#' class='_spi_btn_release_ _btn_postbtn _text_class_' target='_blank' button='postbtn'><span class='_spi_btn_release_ spi_bg_release'></span>보내기<em class='_spi_sep4 _bar_class_'></em><span class='_spi_btn_release_ spi_bu_arr'></span></a>      		<ul class='_spi_lst_release spi_lst_release' style='display:none;'>				<li class='_spi_lnk_url spi_lnk_url' style='display:none;'><a href='#' class='_blur_1 _spi_lnk_url' title='URL복사' target='_blank'><span class='_spi_lnk_url'></span><span class='_spi_lnk_url ls'>URL</span>복사</a></li>       		<li class='_spi_lnk_mail spi_lnk_mail' style='display:none;'><a href='#' class='_blur_2 _spi_lnk_mail' title='메일 보내기' target='_blank'><span class='_spi_lnk_mail'></span>메일</a></li>       		<li class='_spi_lnk_cafe spi_lnk_cafe' style='display:none;'><a href='#' class='_blur_3 _spi_lnk_cafe' title='카페 보내기' target='_blank'><span class='_spi_lnk_cafe'></span>카페</a></li>       		<li class='_spi_lnk_blog spi_lnk_blog' style='display:none;'><a href='#' class='_blur_4 _spi_lnk_blog' title='블로그 보내기' target='_blank'><span class='_spi_lnk_blog'></span>블로그</a></li>				<li class='_spi_lnk_memo spi_lnk_memo' style='display:none;'><a href='#' class='_blur_5 _spi_lnk_memo' title='메모 보내기' target='_blank'><span class='_spi_lnk_memo'></span>메모</a></li>				<li class='_spi_lnk_calendar spi_lnk_calendar' style='display:none;'><a href='#' class='_blur_6 _spi_lnk_calendar' title='일정 보내기' target='_blank'><span class='_spi_lnk_calendar'></span>일정</a></li>       		<li class='_spi_lnk_me2post spi_lnk_me2' style='display:none;'><a href='#' class='_blur_7 _spi_lnk_me2post' title='미투 보내기' target='_blank'><span class='_spi_lnk_me2post'></span>미투데이</a></li>       		<li class='_spi_lnk_facebook spi_lnk_facebook' style='display:none;'><a href='#' class='_blur_8 _spi_lnk_facebook' title='페이스북 보내기' target='_blank'><span class='_spi_lnk_facebook'></span>페이스북</a></li>       		<li class='_spi_lnk_twitter spi_lnk_twitter' style='display:none;'><a href='#' class='_blur_9 _spi_lnk_twitter' title='트윗하기' target='_blank'><span class='_spi_lnk_twitter'></span>트위터</a></li>       	</ul>   	</li>   </ul>	<div class='_ly_bmk_ok spi_ly_pop' style='display:none;left:57px;top:31px;width:242px'>		<p class='spi_dsc'>북마크 되었습니다.<br> <a href='http://me.naver.com/tab/bookmark.nhn' target='_blank' class='_ly_bmk_ok_cls _ly_bmk_lnk spi_impact'>네이버me 북마크함 가기</a></p>		<button class='_ly_bmk_ok_cls spi_close' type='button'><span class='_ly_bmk_ok_cls' title='북마크 레이어 닫기'></span><em class='_ly_bmk_ok_cls'>X</em></button>	</div>	<div class='_ly_bmk_cnf spi_ly_pop' style='display:none;left:57px;top:31px;width:243px'>		<p class='spi_dsc'>현재 북마크 되어있습니다.<br> 북마크를 해제하시겠습니까?</p>		<div class='spi_btn'>			<a href='#' class='_ly_bmk_cnf_y spi_y' target='_blank'><span class='_ly_bmk_cnf_y'></span>예</a>			<a href='#' class='_ly_bmk_cnf_n spi_n' target='_blank'><span class='_ly_bmk_cnf_n'></span>아니오</a>		</div>		<button class='_ly_bmk_cnf_cls spi_close' type='button'><span class='_ly_bmk_cnf_cls' title='북마크 레이어 닫기'></span><em class='_ly_bmk_cnf_cls'>X</em></button>	</div>	<div class='_ly_bmk_err spi_ly_pop' style='display:none;left:60px;top:31px;width:243px'>		<p class='spi_dsc'>서버 접속이 원활하지 않습니다.<br> 잠시 후 다시 시도해 주십시오.</p>		<button class='_ly_bmk_err_cls spi_close' type='button'><span class='_ly_bmk_err_cls' title='북마크 레이어 닫기'></span><em class='_ly_bmk_err_cls'>X</em></button>	</div>	<div class='_ly_bmk_ros spi_ly_pop' style='display:none;left:60px;top:31px;width:243px'>		<p class='spi_dsc'>북마크 서비스 점검 중으로,<br>현재 북마크 읽기만 가능하오니<br>이용에 참고해 주시기 바랍니다.</p>		<button class='_ly_bmk_ros_cls spi_close' type='button'><span class='_ly_bmk_ros_cls' title='북마크 레이어 닫기'></span><em class='_ly_bmk_ros_cls'>X</em></button>	</div>	<div class='_ly_url_ok spi_ly_pop' style='display:none;left:57px;top:31px;width:243px'>		<p class='spi_dsc'>URL이 복사되었습니다.<br>원하는 곳에 붙여넣기(Ctrl+V)해 주세요.</p>		<button type='button' class='_ly_url_ok_cls spi_close'><span class='_ly_url_ok_cls' title='URL복사 레이어 닫기'></span><em class='_ly_url_ok_cls'>X</em></button>	</div>	<div class='_ly_pop spi_ly_pop ly_pop_v1' style='display:none;left:0;top:-82px;width:213px'>		<p class='_ly_pop spi_dsc'>이 _feed_info_ 마음에 드셨다면<br><a href='http://me.naver.com/' target='_blank' class='_ly_pop _ly_me_lnk spi_impact'>네이버me</a>에서 편하게 받아보세요.</p>		<div class='_ly_pop spi_ico_arr'></div>	</div></div>"};this.setMultiMode=function(b){this._bMultiMode=b};this.drawSpiLayer=function(c,b){this._htInitData=c||{};this._arButtons=new Array();this._prepareMarkUp(b);this._setElement();this._setupEvent();this._renderAll();if(this._bMultiMode==false){this._initializeMe2p()}};this.destroy=function(){var c=document.getElementById(this._sSpiLayerId);var b=document.getElementById("_me2p_login_helper");if(c){c.parentNode.removeChild(c)}if(b){b.parentNode.removeChild(b)}this._detroyEvent();this._htElement={};this._htInitData={}};this._isDisplayOn=function(b){var d=false;var c=this._htInitData[b];if(typeof c=="undefined"){d=true}else{if(typeof c.display=="undefined"){d=true}else{if(c.display==="on"){d=true}}}return d};this._prepareMarkUp=function(c){var f="standard",g="black",h="standard";var d="",b="default";if(this._htInitData.style){f=this._htInitData.style}if(this._htInitData.align){this._sAlign=this._htInitData.align}switch(f){case"standard":this._sMarkupStyle="standard";this._sCssStyle="standard";break;case"text":this._sMarkupStyle="text";this._sCssStyle="standard";break;case"community":this._sMarkupStyle="community";this._sCssStyle="standard";break;case"standard_quirks":this._sMarkupStyle="standard";this._sCssStyle="standard";break;case"text_quirks":this._sMarkupStyle="text";this._sCssStyle="standard";break;case"community_quirks":this._sMarkupStyle="community";this._sCssStyle="standard";break;default:this._sMarkupStyle="standard";this._sCssStyle="standard";break}d=this._htMarkUp[this._sMarkupStyle];this._sUniqueId=this._getRandomId();this._sSpiLayerId="spi_layer_"+this._sUniqueId;d=d.replace(/_spi_layer_id_/gi,this._sSpiLayerId);if(this._htInitData.text){g=this._htInitData.text;if((this._sMarkupStyle.indexOf("text")>-1||this._sMarkupStyle.indexOf("community")>-1)&&g=="white"){d=d.replace(/_text_style_/gi,"spi_txt")}else{d=d.replace(/_text_style_/gi,"")}}if(this._sMarkupStyle.indexOf("text")>-1||this._sMarkupStyle.indexOf("community")>-1){if(this._isNotNull(this._htInitData.textClass)){d=d.replace(/_text_class_/gi,this._htInitData.textClass)}else{d=d.replace(/_text_class_/gi,"")}if(this._isNotNull(this._htInitData.barClass)){d=d.replace(/_bar_class_/gi,this._htInitData.barClass)}else{d=d.replace(/_bar_class_/gi,"")}}if(this._isDisplayOn("me")){d=d.replace(/_feed_info_/gi,this._htInitData.me["feedInfo"])}d=d.replace(/_me2key_/gi,this._htInitData.me2key);d=d.replace(/_me2source_/gi,this._getSourceUrl("me2day"));d=d.replace(/_spi_btn_release_/gi,"_spi_btn_release");this._appendStyleSheet(this._sCssStyle);document.getElementById(c).innerHTML=d};this._appendStyleSheet=function(f){var c="spi_style_"+f;if(this._isNotNull(document.getElementById(c))){return}var b=document.getElementsByTagName("head")[0];var d=document.createElement("link");d.id=c;d.rel="stylesheet";d.type="text/css";d.href=this._htStyleSheet[f];b.appendChild(d)};this._setElement=function(){var g=0,f=0,b=0;var d=this._htInitData.style;var c=document.getElementById(this._sSpiLayerId);this._htElement.spi_area=c;this._htElement.spi_lst=this._getElementByClass(c,"spi_lst");this._htElement.me=this._getElementByClass(c,"_spi_btn_me");this._htElement.band=this._getElementByClass(c,"_spi_btn_band");this._htElement.bookmark=this._getElementByClass(c,"_spi_btn_bookmark");this._htElement.me2=this._getElementByClass(c,"_spi_btn_me2day");this._htElement.me2count=this._getElementByClass(c,"_spi_btn_me2count");this._htElement.me2layer=this._getElementByClass(c,"_me2button_layer");this._htElement.release_btn=this._getElementByClass(c,"_spi_btn_release");this._htElement.release=this._getElementByClass(c,"_spi_lst_release");this._htElement.cpurl=this._getElementByClass(c,"_spi_lnk_url");this._htElement.mail=this._getElementByClass(c,"_spi_lnk_mail");this._htElement.cafe=this._getElementByClass(c,"_spi_lnk_cafe");this._htElement.blog=this._getElementByClass(c,"_spi_lnk_blog");this._htElement.memo=this._getElementByClass(c,"_spi_lnk_memo");this._htElement.calendar=this._getElementByClass(c,"_spi_lnk_calendar");this._htElement.me2post=this._getElementByClass(c,"_spi_lnk_me2post");this._htElement.facebook=this._getElementByClass(c,"_spi_lnk_facebook");this._htElement.twitter=this._getElementByClass(c,"_spi_lnk_twitter");this._htElement.bmk_ok=this._getElementByClass(c,"_ly_bmk_ok");this._htElement.bmk_cnf=this._getElementByClass(c,"_ly_bmk_cnf");this._htElement.bmk_err=this._getElementByClass(c,"_ly_bmk_err");this._htElement.bmk_ros=this._getElementByClass(c,"_ly_bmk_ros");this._htElement.cpurl_ok=this._getElementByClass(c,"_ly_url_ok");this._htElement.me_pop=this._getElementByClass(c,"_ly_pop");this._htElement.me_btn=this._getElementByClass(c,"_btn_me");this._htElement.me_lnk=this._getElementByClass(c,"_ly_me_lnk");if(d.indexOf("text")>-1||d.indexOf("community")>-1){this._htElement.sep1=this._getElementByClass(c,"_spi_sep1");this._htElement.sep2=this._getElementByClass(c,"_spi_sep2");this._htElement.sep3=this._getElementByClass(c,"_spi_sep3");this._htElement.sep4=this._getElementByClass(c,"_spi_sep4")}if(this._isDisplayOn("copyurl")){g++;b=1;if(g==1){f=1}}if(this._isDisplayOn("mail")){g++;b=2;if(g==1){f=2}}if(this._isDisplayOn("cafe")){g++;b=3;if(g==1){f=3}}if(this._isDisplayOn("blog")){g++;b=4;if(g==1){f=4}}if(this._isDisplayOn("memo")){g++;b=5;if(g==1){f=5}}if(this._isDisplayOn("calendar")){g++;b=6;if(g==1){f=6}}if(this._isDisplayOn("me2post")){g++;b=7;if(g==1){f=7}}if(this._isDisplayOn("facebook")){g++;b=8;if(g==1){f=8}}if(this._isDisplayOn("twitter")){g++;b=9;if(g==1){f=9}}this._htElement.blur_first=this._getElementByClass(c,"_blur_"+f);this._htElement.blur_last=this._getElementByClass(c,"_blur_"+b);if(this._htElement.blur_first){this._addClass(this._htElement.blur_first,"_first")}if(this._htElement.blur_last){this._addClass(this._htElement.blur_last,"_last")}};this._setupEvent=function(){this._attachEvent(this._htElement.spi_area,"click",spi.util.fn(this._onClick,this).bind());this._attachEvent(this._htElement.me,"mouseover",spi.util.fn(this._onMouseOver,this).bind());this._attachEvent(this._htElement.me_pop,"mouseover",spi.util.fn(this._onMouseOver,this).bind());this._attachEvent(this._htElement.me,"mouseout",spi.util.fn(this._onMouseOut,this).bind());this._attachEvent(this._htElement.me_pop,"mouseout",spi.util.fn(this._onMouseOut,this).bind());this._attachEvent(this._htElement.me_btn,"focus",spi.util.fn(this._onFocus,this).bind());this._attachEvent(this._htElement.spi_area,"keydown",spi.util.fn(this._onKeyDown,this).bind())};this._detroyEvent=function(){this._detachEvent(this._htElement.spi_area,"click",spi.util.fn(this._onClick,this).bind());this._detachEvent(this._htElement.me,"mouseover",spi.util.fn(this._onMouseOver,this).bind());this._detachEvent(this._htElement.me_pop,"mouseover",spi.util.fn(this._onMouseOver,this).bind());this._detachEvent(this._htElement.me,"mouseout",spi.util.fn(this._onMouseOut,this).bind());this._detachEvent(this._htElement.me_pop,"mouseout",spi.util.fn(this._onMouseOut,this).bind());this._detachEvent(this._htElement.me_btn,"focus",spi.util.fn(this._onFocus,this).bind());this._detachEvent(this._htElement.spi_area,"keydown",spi.util.fn(this._onKeyDown,this).bind())};this._onClick=function(){var f=null;var d=this._htElement;var c=arguments[0]||window.event;var b=c.target||c.srcElement;if(this._hasClass(b,"_spi_btn_me")){f="me";this._preventEvent(c);this._openMeFeedPopup()}else{if(this._hasClass(b,"_spi_btn_band")){f="band";this._preventEvent(c);this._openBandPopup()}else{if(this._hasClass(b,"_spi_btn_bookmark")){f="bookmark";this._preventEvent(c);this._checkBookmarkData()}else{if(this._hasClass(b,"_spi_btn_me2day")){f="me2";this._preventEvent(c);this._closeAllLayer("me2day")}else{if(this._hasClass(b,"_spi_btn_me2count")){f="me2count";this._closeAllLayer("me2day")}else{if(this._hasClass(b,"_spi_lnk_event")){f="event";this._preventEvent(c);this._sendEventLog("click",f);window.open("http://blog.naver.com/naver_diary/150147535886","","")}else{if(this._hasClass(b,"_spi_lnk_url")){f="copyurl";this._preventEvent(c);this._openCopyUrl()}else{if(this._hasClass(b,"_spi_lnk_mail")){f="mail";this._preventEvent(c);this._openMailPopup()}else{if(this._hasClass(b,"_spi_lnk_cafe")){f="cafe";this._preventEvent(c);this._openCafePopup()}else{if(this._hasClass(b,"_spi_lnk_blog")){f="blog";this._preventEvent(c);this._openBlogPopup()}else{if(this._hasClass(b,"_spi_lnk_memo")){f="memo";this._preventEvent(c);this._openMemoPopup()}else{if(this._hasClass(b,"_spi_lnk_calendar")){f="calendar";this._preventEvent(c);this._openCalendarPopup()}else{if(this._hasClass(b,"_spi_lnk_me2post")){f="me2post";this._preventEvent(c);this._openMe2PostPopup()}else{if(this._hasClass(b,"_spi_lnk_facebook")){f="facebook";this._preventEvent(c);this._openFacebookPopup()}else{if(this._hasClass(b,"_spi_lnk_twitter")){f="twitter";this._preventEvent(c);this._openTwitterPopup()}else{if(this._hasClass(b,"_spi_lnk_sms")){f="sms";this._preventEvent(c);this._openSmsPopup()}else{if(this._hasClass(b,"_spi_lnk_yozm")){f="yozm";this._preventEvent(c);this._openYozmPopup()}else{if(this._hasClass(b,"_spi_btn_release")){f="release";this._preventEvent(c);this._closeAllLayer("release");this._toggle(d.release)}else{if(this._hasClass(b,"_ly_bmk_ok_cls")){this._hide(d.bmk_ok);this._getElementByClass(this._htElement.spi_area,"_btn_bookmark").focus();if(this._hasClass(b,"_ly_bmk_lnk")){f="bmklink"}}else{if(this._hasClass(b,"_ly_bmk_cnf_y")){this._preventEvent(c);this._hide(d.bmk_cnf);this._getElementByClass(this._htElement.spi_area,"_btn_bookmark").focus();this._deleteBookmarkData()}else{if(this._hasClass(b,"_ly_bmk_cnf_n")){this._preventEvent(c);this._getElementByClass(this._htElement.spi_area,"_btn_bookmark").focus();this._hide(d.bmk_cnf)}else{if(this._hasClass(b,"_ly_bmk_cnf_cls")){this._preventEvent(c);this._getElementByClass(this._htElement.spi_area,"_btn_bookmark").focus();this._hide(d.bmk_cnf)}else{if(this._hasClass(b,"_ly_bmk_err_cls")){this._preventEvent(c);this._getElementByClass(this._htElement.spi_area,"_btn_bookmark").focus();this._hide(d.bmk_err)}else{if(this._hasClass(b,"_ly_bmk_ros_cls")){this._preventEvent(c);this._getElementByClass(this._htElement.spi_area,"_btn_bookmark").focus();this._hide(d.bmk_ros)}else{if(this._hasClass(b,"_ly_url_ok_cls")){this._preventEvent(c);this._hide(d.cpurl_ok);this._getElementByClass(this._htElement.spi_area,"_btn_postbtn").focus()}else{if(this._hasClass(b,"_ly_me_lnk")){f="melink"}}}}}}}}}}}}}}}}}}}}}}}}}}if(!this._hasClass(b,"_spi_btn_release")){this._hide(d.release)}this._sendEventLog("click",f)};this._preventEvent=function(b){if(b.preventDefault){b.preventDefault()}else{b.returnValue=false}};this._onMouseOver=function(){var d=this._htElement;var c=arguments[0]||window.event;var b=c.target||c.srcElement;if(this._hasClass(b,"_spi_btn_me")||this._hasClass(b,"_ly_pop")){clearTimeout(this._tTimer);this._show(d.me_pop);spi.util.offset(d.me_pop,spi.util.offset(d.me_pop).top,spi.util.offset(d.me).left)}};this._onMouseOut=function(){var d=this._htElement;var c=arguments[0]||window.event;var b=c.target||c.srcElement;if(this._hasClass(b,"_spi_btn_me")||this._hasClass(b,"_ly_pop")){this._tTimer=setTimeout(spi.util.fn(function(){this._hide(d.me_pop);this._tTimer=null},this).bind(),1000)}};this._onFocus=function(){var d=this._htElement;var c=arguments[0]||window.event;var b=c.target||c.srcElement;if(this._hasClass(b,"_spi_btn_me")){this._show(d.me_pop);spi.util.offset(d.me_pop,spi.util.offset(d.me_pop).top,spi.util.offset(d.me).left)}};this._onKeyDown=function(){var j=this._htElement;var h=arguments[0]||window.event;var g=window.event?window.event.keyCode:h.which;var d=h.target||h.srcElement;if(!h.shiftKey&&g==9){if(this._hasClass(d,"_spi_btn_band")||this._hasClass(d,"_spi_btn_twitter")||this._hasClass(d,"_spi_btn_facebook")||this._hasClass(d,"_spi_btn_me2post")){var b=this._arButtons.indexOf(d.attributes.button.value);var c=b+1;if(c<this._arButtons.length){var l=this._arButtons[c];this._getElementByClass(this._htElement.spi_area,"_btn_"+l).focus();this._preventEvent(h)}}else{if(this._hasClass(d,"_spi_btn_me")&&this._visible(j.me_pop)){j.me_lnk.focus();this._preventEvent(h)}else{if(this._hasClass(d,"_spi_btn_bookmark")&&this._visible(j.bmk_ok)){this._getElementByClass(this._htElement.spi_area,"_ly_bmk_lnk").focus();this._preventEvent(h)}else{if(this._hasClass(d,"_spi_btn_bookmark")&&this._visible(j.bmk_cnf)){this._getElementByClass(this._htElement.spi_area,"spi_y").focus();this._preventEvent(h)}else{if(this._hasClass(d,"_ly_bmk_lnk")&&this._visible(j.bmk_ok)){this._getElementByClass(this._htElement.bmk_ok,"_ly_bmk_ok_cls").focus()}else{if((this._hasClass(d,"_ly_bmk_cnf_cls")&&this._visible(j.bmk_cnf))||(this._hasClass(d,"_ly_bmk_ok_cls")&&this._visible(j.bmk_ok))){var b=this._arButtons.indexOf("bookmark");var c=b+1;if(c<this._arButtons.length){var l=this._arButtons[c];this._getElementByClass(this._htElement.spi_area,"_btn_"+l).focus();this._preventEvent(h)}this._hide(j.bmk_cnf);this._hide(j.bmk_ok)}else{if(this._hasClass(d,"_ly_me_lnk")){var l=this._arButtons[this._arButtons.indexOf("me")+1];this._getElementByClass(this._htElement.spi_area,"_btn_"+l).focus();this._hide(j.me_pop);this._preventEvent(h)}else{if(this._hasClass(d,"_last")){this._closeAllLayer()}else{if(this._hasClass(d,"_ly_cpurl_ok_cls")){this._getElementByClass(this._htElement.spi_area,"_btn_postbtn").focus();this._preventEvent(h)}}}}}}}}}}else{if(h.shiftKey&&g==9){if(this._hasClass(d,"_spi_btn_twitter")||this._hasClass(d,"_spi_btn_facebook")||this._hasClass(d,"_spi_btn_me2post")){var b=this._arButtons.indexOf(d.attributes.button.value);var f=b-1;if(f>=0){var l=this._arButtons[f];this._getElementByClass(this._htElement.spi_area,"_btn_"+l).focus();this._preventEvent(h)}}else{if((this._hasClass(d,"_ly_bmk_cnf_y")&&this._visible(j.bmk_cnf))||(this._hasClass(d,"_ly_bmk_lnk")&&this._visible(j.bmk_ok))){this._getElementByClass(this._htElement.spi_area,"_btn_bookmark").focus();this._hide(j.bmk_cnf);this._hide(j.bmk_ok);this._preventEvent(h)}else{if(this._hasClass(d,"_spi_btn_me")&&this._visible(j.me_pop)){this._hide(j.me_pop)}else{if(this._hasClass(d,"_ly_me_lnk")){this._preventEvent(h);j.me_btn.focus()}else{if(this._hasClass(d,"_first")){this._closeAllLayer()}else{if(this._hasClass(d,"_ly_cpurl_ok_cls")){this._getElementByClass(this._htElement.spi_area,"_btn_postbtn").focus();this._preventEvent(h)}}}}}}}}};this._closeAllLayer=function(b){var c=this._htElement;if(b!="bmk_ok"){this._hide(c.bmk_ok)}if(b!="bmk_cnf"){this._hide(c.bmk_cnf)}if(b!="bmk_err"){this._hide(c.bmk_err)}if(b!="bmk_ros"){this._hide(c.bmk_ros)}if(b!="cpurl_ok"){this._hide(c.cpurl_ok)}if(b!="release"){this._hide(c.release)}if(b!="me2day"){if(this._isDisplayOn("me2day")){me2p.MetooHandler.get(this._getSourceUrl("me2day")).closeLayer()}}};this._renderAll=function(){var b=this._htInitData.style,c=this._htElement;this._displayOn("me","me");this._displayOn("band","band");this._displayOn("bookmark","bookmark");this._displayOn("me2day","me2");this._displayOn("postbtn","release_btn");this._isDisplayOn("copyurl")?this._show(c.cpurl):this._hide(c.cpurl);this._isDisplayOn("mail")?this._show(c.mail):this._hide(c.mail);this._isDisplayOn("cafe")?this._show(c.cafe):this._hide(c.cafe);this._isDisplayOn("blog")?this._show(c.blog):this._hide(c.blog);this._isDisplayOn("memo")?this._show(c.memo):this._hide(c.memo);this._isDisplayOn("calendar")?this._show(c.calendar):this._hide(c.calendar);this._isDisplayOn("me2post")?this._show(c.me2post):this._hide(c.me2post);this._isDisplayOn("facebook")?this._show(c.facebook):this._hide(c.facebook);this._isDisplayOn("twitter")?this._show(c.twitter):this._hide(c.twitter);if(b.indexOf("text")>-1||b.indexOf("community")>-1){if(this._isDisplayOn("postbtn")&&(this._isDisplayOn("me")||this._isDisplayOn("band")||this._isDisplayOn("bookmark")||this._isDisplayOn("me2day"))){}else{this._hide(c.sep4)}if(this._isDisplayOn("me2day")&&(this._isDisplayOn("me")||this._isDisplayOn("band")||this._isDisplayOn("bookmark"))){}else{this._hide(c.sep3)}if(this._isDisplayOn("bookmark")&&(this._isDisplayOn("me")||this._isDisplayOn("band"))){}else{this._hide(c.sep2)}if(this._isDisplayOn("band")&&(this._isDisplayOn("me"))){}else{this._hide(c.sep1)}}};this._displayOn=function(c,b){var d=this._htElement;if(this._isDisplayOn(c)){this._show(d[b]);this._arButtons.push(c)}else{this._hide(d[b])}};this._initializeMe2p=function(){var b=this._getSourceUrl("me2day");if(this._bMultiMode==false){me2p.initialize()}me2p.MetooHandler.get(b).registerEvent("onBeforeMetoo",spi.util.fn(function(){this._nMe2Count=parseInt(this._htElement.me2count.innerHTML)},this).bind());me2p.MetooHandler.get(b).registerEvent("onAfterMetoo",spi.util.fn(function(){if(this._nMe2Count<parseInt(this._htElement.me2count.innerHTML)){this._sendEventLog("finish","me2")}},this).bind());me2p.MetooHandler.get(b).registerEvent("onBeforeShowLayer",spi.util.fn(function(){this._closeAllLayer()},this).bind());me2p.MetooHandler.get(b).registerEvent("onShowLayer",spi.util.fn(function(){var d=this._htElement.me2,c=this._htElement.me2layer;spi.util.offset(c,spi.util.offset(d).top+d.offsetHeight+3,spi.util.offset(d).left-(this._sAlign=="right"?c.offsetWidth-d.offsetWidth:0))},this).bind())};this._openMeFeedPopup=function(){if(this._isNotNull(this._htInitData.me["fCallback"])&&typeof this._htInitData.me["fCallback"]=="function"){this._htInitData.me["fCallback"]();return}var c="_feedPopup",d="_feedPopupForm";var f=this._htInitData.me;var b=document.getElementById(d);if(b==null){b=document.createElement("form");b.id=d;b.action=this._htAPI.API201+f.targetUrl;b.method="post";b.target=c}this._appendChilds(b,[this._createInputElement("hidden","popupType",f.popupType),this._createInputElement("hidden","callbackUrl",f.callbackUrl),this._createInputElement("hidden","serviceId",f.serviceId),this._createInputElement("hidden","feedGroupId",f.feedGroupId),this._createInputElement("hidden","feedGroupUrl",f.feedGroupUrl),this._createInputElement("hidden","feedGroupName",f.feedGroupName),this._createInputElement("hidden","ek",this._htFinishLog.me["key"]+"."+this._htInitData.evkey),this._createInputElement("hidden","ev",this._htFinishLog.me["baseUrl"]),]);this._appendChilds(b,this._createInputElementArr("hidden","feedId",f.feedId));this._appendChilds(b,this._createInputElementArr("hidden","feedUrl",f.feedUrl));this._appendChilds(b,this._createInputElementArr("hidden","feedName",f.feedName));this._appendChilds(b,this._createInputElementArr("hidden","selected",f.selected));this._appendChilds(b,this._createInputElementArr("hidden","feedType",f.feedType));document.body.appendChild(b);this._openPopupToCenter("",c,380,400,"location=no,resize=no,scrollbars=no,resizable=no");this._setFormCharset(b,"utf-8");b.submit();this._setFormCharset(b,this._CHARSET);b.parentNode.removeChild(b)};this._openBandPopup=function(){this._makeShortUrl(this._getSourceUrl("band"),spi.util.fn(this._onPostBand,this).bind())};this._onPostBand=function(f){var d="",g="";var c=this._getShortUrl(f);if(this._isNotNull(this._getServiceName())){d=this._getServiceName()+" : "}g="[네이버] "+d+this._getSourceTitle("band")+"\n"+c;g=g.replace(/"/gi,"＂");g=g.replace(/&quot;/gi,"＂");if(c!=""){var b=this._htAPI.API511+"?body="+encodeURIComponent(g);this._openPopupToCenter(b,"bandPopup",520,530)}};this._checkBookmarkData=function(){var b='["'+this._getSourceUrl("bookmark")+'"]';this._setBookmarkLoading("on");spi.util.requestJsonp(this._htAPI.API301,{urls:b},spi.util.fn(this._onCheckBookmarkData,this).bind())};this._onCheckBookmarkData=function(d){var c=spi.util.toJson(d);this._setBookmarkLoading("off");if(c.bookmarkError){var b=c.bookmarkError;if(b.responseCode==900){if(this._isNotNull(this._htInitData.onLoginRedirect)&&typeof this._htInitData.onLoginRedirect=="function"){this._htInitData.onLoginRedirect()}else{this._redirectLoginPage(document.location.href)}}else{this._showBookmarkLayer(this._htElement.bmk_err)}}else{if(c.list&&c.list.length==1){var b=c.list[0];if(b.exist==false){this._postBookmarkData()}else{this._sBmkUrlId=b.urlId;this._showBookmarkLayer(this._htElement.bmk_cnf)}}else{this._showBookmarkLayer(this._htElement.bmk_err)}}};this._postBookmarkData=function(){var b=this._getSourceTitle("bookmark");var c=this._htInitData.evkey;var d=this._getSourceUrl("bookmark");this._setBookmarkLoading("on");spi.util.requestJsonp(this._htAPI.API302,{title:b,url:d,isPrivate:true,type:"B",source:c},spi.util.fn(this._onPostBookmarkData,this).bind())};this._onPostBookmarkData=function(d){var c=spi.util.toJson(d);this._setBookmarkLoading("off");if(c&&c.bookmarkSave){var b=c.bookmarkSave;if(b.ros==1){this._showBookmarkLayer(this._htElement.bmk_ros)}else{if((b.responseCode==0)||(b.responseCode==1)){this._showBookmarkLayer(this._htElement.bmk_ok);this._sendEventLog("finish","bookmark")}else{this._showBookmarkLayer(this._htElement.bmk_err)}}}else{this._showBookmarkLayer(this._htElement.bmk_err)}};this._deleteBookmarkData=function(){var b=this._sBmkUrlId;this._setBookmarkLoading("on");spi.util.requestJsonp(this._htAPI.API303,{urlId:b},spi.util.fn(this._onDeleteBookmarkData,this).bind())};this._onDeleteBookmarkData=function(d){var c=spi.util.toJson(d);this._setBookmarkLoading("off");if(c&&c.bookmarkDelete){var b=c.bookmarkDelete;if(b.ros==1){this._showBookmarkLayer(this._htElement.bmk_ros)}else{if((b.responseCode==0)||(b.responseCode==1)){}else{this._showBookmarkLayer(this._htElement.bmk_err)}}}else{this._showBookmarkLayer(this._htElement.bmk_err)}};this._setBookmarkLoading=function(f){var b="",j="",d="";var c=this._getElementByClass(this._htElement.spi_area,"_spi_bmk_load");var h=(this._htInitData.style=="standard"?"ico_loading2.gif":"ico_loading.gif");var g=(this._htInitData.barClass?this._htInitData.barClass:"");if(this._htInitData.style=="text"||this._htInitData.style=="community"){if(this._isDisplayOn("bookmark")&&this._isDisplayOn("me")){d="block"}else{d="none"}}b='<img src="http://bookmarkimgs.naver.com/img/'+h+'" width="14" height="14" alt="로딩중" class="loading">북마크<em class="_spi_sep1 '+g+'" style="display:'+d+';"></em>';j='<span class="_spi_btn_bookmark"></span>북마크<em class="_spi_sep1 '+g+'" style="display:'+d+';"></em>';if(f=="on"){c.innerHTML=b}else{c.innerHTML=j}};this._showBookmarkLayer=function(c){var d=this._htElement.bookmark,b=this._htInitData.style;this._closeAllLayer();this._show(c);spi.util.offset(c,spi.util.offset(d).top+d.offsetHeight+3,spi.util.offset(d).left-(this._sAlign=="right"?c.offsetWidth-d.offsetWidth:0))};this._openCopyUrl=function(){var d=navigator.userAgent.toLowerCase().indexOf("gecko")!=-1;var c=navigator.userAgent.toLowerCase().indexOf("msie")!=-1;this._closeAllLayer();if(d){prompt("아래의 URL을 복사(Ctrl+C)하여\n원하는 곳에 붙여넣기(Ctrl+V)하세요.",this._getSourceUrl("copyurl"));this._getElementByClass(this._htElement.spi_area,"_btn_postbtn").focus()}else{var f=this._htElement.release_btn,b=this._htElement.cpurl_ok;window.clipboardData.setData("Text",this._getSourceUrl("copyurl"));this._show(b);spi.util.offset(b,spi.util.offset(f).top+f.offsetHeight+3,spi.util.offset(f).left+f.offsetWidth-b.offsetWidth)}};this._openMailPopup=function(){this._getLogined(spi.util.fn(function(h){var c=spi.util.toJson(h);var j="_postMailPopup";var f=this._htFinishLog.mail["key"]+"."+this._htInitData.evkey;var b=this._htFinishLog.mail["baseUrl"];var g="";var l="[네이버] _serviceName_"+this._getSourceTitle("mail");if(this._isNotNull(this._getServiceName())){g=this._getServiceName()+" : "}l=l.replace(/_serviceName_/gi,g);var d=this._htAPI.API501+"?svc="+this._htInitData.mail["srvid"]+"&tmplUrl="+encodeURIComponent(this._htInitData.mail["srvurl"])+"&subject="+encodeURIComponent(l)+"&callbackUrl="+encodeURIComponent(ectrackurl(f,b));if(c.result=="success"&&c.success==true){this._openPopupToCenter(d,j,900,770)}else{this._openLoginForm(d,j,900,770)}},this).bind())};this._openCafePopup=function(){var d=this._htFinishLog.cafe["key"]+"."+this._htInitData.evkey;var b=this._htFinishLog.cafe["baseUrl"];var f="_cafePopup",g="_cafePopupForm";var h=this._htInitData.cafe;var c=document.getElementById(g);if(c==null){c=document.createElement("form");c.id=g;c.target=f;if(this._isNotNull(h.proxyAction)&&this._isNotNull(h.proxyActionUrl)&&h.proxyAction==="on"){c.action=h.proxyActionUrl;c.method="get";this._appendGetParam(c,h.proxyActionUrl)}else{c.action=this._htAPI.API502;c.method="post"}}this._appendChilds(c,[this._createInputElement("hidden","source_type",h.sourceType),this._createInputElement("hidden","title",this._getSourceTitle("cafe")),this._createInputElement("hidden","source_title",h.sourceTitle),this._createInputElement("hidden","source_url",this._getSourceUrl("cafe")),this._createInputElement("hidden","source_contents",h.sourceContents),this._createInputElement("hidden","source_form",h.sourceForm),this._createInputElement("hidden","callbackUrl",ectrackurl(d,b))]);document.body.appendChild(c);this._openPopupToCenter("",f,503,635);this._setFormCharset(c,"euc-kr");c.submit();this._setFormCharset(c,this._CHARSET);c.parentNode.removeChild(c)};this._openBlogPopup=function(){var d=this._htFinishLog.blog["key"]+"."+this._htInitData.evkey;var b=this._htFinishLog.blog["baseUrl"];var f="_blogPopup",g="_blogPopupForm";var h=this._htInitData.blog;var c=document.getElementById(g);if(c==null){c=document.createElement("form");c.id=g;c.target=f;if(this._isNotNull(h.proxyAction)&&this._isNotNull(h.proxyActionUrl)&&h.proxyAction==="on"){c.action=h.proxyActionUrl;c.method="get";this._appendGetParam(c,h.proxyActionUrl)}else{c.action=this._htAPI.API503;c.method="post"}}this._appendChilds(c,[this._createInputElement("hidden","blogId",h.blogId),this._createInputElement("hidden","source_type",h.sourceType),this._createInputElement("hidden","title",this._getSourceTitle("blog")),this._createInputElement("hidden","source_title",h.sourceTitle),this._createInputElement("hidden","source_url",this._getSourceUrl("blog")),this._createInputElement("hidden","source_contents",h.sourceContents),this._createInputElement("hidden","source_form",h.sourceForm),this._createInputElement("hidden","callbackType","image"),this._createInputElement("hidden","callbackUrl",ectrackurl(d,b))]);document.body.appendChild(c);this._openPopupToCenter("",f,503,635);this._setFormCharset(c,"euc-kr");c.submit();this._setFormCharset(c,this._CHARSET);c.parentNode.removeChild(c)};this._openMemoPopup=function(){var g="_memoPostPopup",j="_memoPopupForm";var b=document.getElementById(j);var c="",d="",h="",f="";if(b==null){b=document.createElement("form");b.id=j;b.target=g;b.method="post";b.action=this._htAPI.API508}d="[네이버] _serviceName_"+this._getSourceTitle("memo");if(this._isNotNull(this._getServiceName())){c=this._getServiceName()+" : "}d=d.replace(/_serviceName_/gi,c);if(this._htInitData.memo&&this._htInitData.memo.linkDisplayText&&this._isNotNull(this._htInitData.memo.linkDisplayText)){f=this._htInitData.memo["linkDisplayText"]}else{f=d}this._appendChilds(b,[this._createInputElement("hidden","content",d),this._createInputElement("hidden","linkDisplayText",f),this._createInputElement("hidden","linkUrl",this._getSourceUrl("memo"))]);document.body.appendChild(b);this._openPopupToCenter("",g,540,520,"location=no,resize=no,scrollbars=no,resizable=no");this._setFormCharset(b,"utf-8");b.submit();this._setFormCharset(b,this._CHARSET);b.parentNode.removeChild(b)};this._openCalendarPopup=function(){var f="_calendarPostPopup",h="_cakendarPopupForm";var b=document.getElementById(h);var c="",d="",g="";if(b==null){b=document.createElement("form");b.id=h;b.target=f;b.method="get";b.action=this._htAPI.API509}d="[네이버] _serviceName_"+this._getSourceTitle("calendar");if(this._isNotNull(this._getServiceName())){c=this._getServiceName()+" : "}d=d.replace(/_serviceName_/gi,c);this._appendChilds(b,[this._createInputElement("hidden","action","popup"),this._createInputElement("hidden","serviceId","41"),this._createInputElement("hidden","method","popup"),this._createInputElement("hidden","editable","true"),this._createInputElement("hidden","idx","1"),this._createInputElement("hidden","encoded","true"),this._createInputElement("hidden","content",encodeURIComponent(d)),this._createInputElement("hidden","pageInfo",encodeURIComponent(d)),this._createInputElement("hidden","pageUrl",this._getSourceUrl("calendar")),this._createInputElement("hidden","origin",document.location.href)]);document.body.appendChild(b);this._openPopupToCenter("",f,540,520,"location=no,resize=no,scrollbars=no,resizable=no");this._setFormCharset(b,"utf-8");b.submit();this._setFormCharset(b,this._CHARSET);b.parentNode.removeChild(b)};this._openMe2PostPopup=function(){var c=this._htInitData.me2post;var b=this._getSourceUrl("me2post");if(c&&this._isNotNull(c.shortUrl)&&c.shortUrl==="off"){this._postMe2day(b)}else{this._makeShortUrl(b,spi.util.fn(this._onPostMe2day,this).bind())}};this._onPostMe2day=function(c){var b=this._getShortUrl(c);if(b!=""){this._postMe2day(b)}};this._postMe2day=function(c){var d="",f="_me2postPopup";var g="",l="",h="",m="",j=null;if(this._isNotNull(this._getServiceName())){g=this._getServiceName()+" : "}l="[네이버] "+g+this._getSourceTitle("me2post");l=l.replace(/"/gi,"＂");l=l.replace(/&quot;/gi,"＂");l="＂"+l+"＂:"+c;if(this._isNotNull(this._htInitData.tags)){j=this._htInitData.tags;for(var b=0;b<j.length;b++){if(b!=0){m=m+"+"}m=m+j[b]}}var d=this._htAPI.API504+"?body="+encodeURIComponent(l)+"&tag="+encodeURIComponent(m)+"&svc_type=2&ek="+encodeURIComponent(this._htFinishLog.me2post["key"]+"."+this._htInitData.evkey)+"&ev="+encodeURIComponent(this._htFinishLog.me2post["baseUrl"])+"&redirect_url="+encodeURIComponent(document.location.href);this._openPopupToCenter(d,f,540,520)};this._openFacebookPopup=function(){var c=this._getSourceUrl("facebook");var b=this._htAPI.API505+"?u="+encodeURIComponent(c);this._openPopupToCenter(b,"facebookPopup",428,383)};this._openTwitterPopup=function(){this._makeShortUrl(this._getSourceUrl("twitter"),spi.util.fn(this._onPostTwitter,this).bind())};this._onPostTwitter=function(f){var d="",g="";var c=this._getShortUrl(f);if(this._isNotNull(this._getServiceName())){d=this._getServiceName()+" : "}g="[네이버] "+d+this._getSourceTitle("twitter");g=g.replace(/"/gi,"＂");g=g.replace(/&quot;/gi,"＂");if(c!=""){var b=this._htAPI.API506+"?text="+encodeURIComponent(g)+"&url="+encodeURIComponent(c);this._openPopupToCenter(b,"twitterPopup",640,440)}};this._openYozmPopup=function(){var c="",b="";c=this._getSourceTitle("yozm");c=c.replace(/"/gi,"＂");c=c.replace(/&quot;/gi,"＂");b=this._htAPI.API507+"?prefix="+encodeURIComponent(c)+"&link="+encodeURIComponent(this._getSourceUrl("yozm"));this._openPopupToCenter(b,"yozmPopup",455,330)};this._openSmsPopup=function(){this._makeShortUrl(this._getSourceUrl("sms"),spi.util.fn(function(c){var b=this._getShortUrl(c);if(b!=""){this._postSms(b)}},this).bind())};this._postSms=function(c){var f="_smsPostPopup",g="_smsPopupForm";var b=document.getElementById(g);var d="[네이버] _serviceName_"+this._getSourceTitle("sms");if(this._isNotNull(this._getServiceName())){serviceName=this._getServiceName()+" : "}d=d.replace(/_serviceName_/gi,serviceName);if(spi.util.byteLen(d)>56){d=spi.util.byteSubStr(d,0,52)+"..."}if(b==null){b=document.createElement("form");b.id=g;b.target=f;b.method="get";b.action=this._htAPI.API510}this._appendChilds(b,[this._createInputElement("hidden","NHN_CODE","splugin"),this._createInputElement("hidden","SMSID","ESG00067"),this._createInputElement("hidden","MMSID","ESG00067"),this._createInputElement("hidden","MSG_CONTENT",d),this._createInputElement("hidden","MSG_URL",c)]);document.body.appendChild(b);this._openPopupToCenter("",f,540,520,"location=no,resize=no,scrollbars=no,resizable=no");this._setFormCharset(b,"utf-8");b.submit();this._setFormCharset(b,this._CHARSET);b.parentNode.removeChild(b)};this._getSourceUrl=function(b){var c=this._htInitData.source;if(this._isNotNull(this._htInitData[b])&&this._isNotNull(this._htInitData[b]["sourceUrl"])){c=this._htInitData[b]["sourceUrl"]}return c};this._getSourceTitle=function(b){var c=this._htInitData.title;if(this._isNotNull(this._htInitData[b])&&this._isNotNull(this._htInitData[b]["title"])){c=this._htInitData[b]["title"]}return c};this._getElementByClass=function(c,b){return me2p.Sizzle("."+b,c)[0]};this._attachEvent=function(d,c,b){if(d.addEventListener){d.addEventListener(c,b,false)}else{if(d.attachEvent){d.attachEvent("on"+c,b)}else{switch(c){case"click":if(d.onclick){d.onclick=b}break;case"mouseover":if(d.onmouseover){d.onmouseover=b}break;case"mouseout":if(d.onmouseover){d.onmouseout=b}break;case"keyup":if(d.onkeyup){d.onkeyup=b}break;case"keydown":if(d.onkeydown){d.onkeydown=b}break;case"keypress":if(d.onkeypress){d.onkeypress=b}break;case"focus":if(d.onfocus){d.onfocus=b}break;case"blur":if(d.onblur){d.onblur=b}break}}}};this._detachEvent=function(d,c,b){if(d.removeEventListener){d.removeEventListener(c,b,false)}else{if(d.detachEvent){d.detachEvent("on"+c,b)}else{switch(c){case"click":if(d.onclick){d.onclick=null}break;case"mouseover":if(d.onmouseover){d.onmouseover=null}break;case"mouseout":if(d.onmouseout){d.onmouseout=b}break;case"keyup":if(d.onkeyup){d.onkeyup=b}break;case"keydown":if(d.onkeydown){d.onkeydown=b}break;case"keypress":if(d.onkeypress){d.onkeypress=b}break;case"focus":if(d.onfocus){d.onfocus=b}break;case"blur":if(d.onblur){d.onblur=b}break}}}};this._toggle=function(b){if(!b){return}if(b.style.display=="none"){b.style.display="block"}else{b.style.display="none"}};this._hide=function(b){if(!b){return}b.style.display="none"};this._show=function(b){if(!b){return}b.style.display="block"};this._visible=function(b){if(b.style.display=="block"){return true}return false};this._inlineShow=function(b){if(!b){return}b.style.display="inline-block"};this._hasClass=function(b,d){return b.className.match(new RegExp("(\\s|^)"+d+"(\\s|$)"))};this._addClass=function(b,f){var d="";if(!b.className){b.className=f}else{d=b.className;d+=" ";d+=f;b.className=d}};this._removeClass=function(d,f){if(this._hasClass(d,f)){var b=new RegExp("(\\s|^)"+f+"(\\s|$)");d.className=d.className.replace(b," ")}};this._getRandomId=function(){return String(parseInt(Math.random()*10000000000,10))};this._setFormCharset=function(b,d){if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)){b.acceptCharset=d}else{document.charset=d}};this._isNotNull=function(b){return(b==null||b=="undefined"||b=="null")?false:true};this._appendGetParam=function(h,d){var g,f,j,l,b,c;if(d.indexOf("?")>-1){l=d.substring(d.indexOf("?")+1);b=l.split("&");for(g=0;g<b.length;g++){c=b[g].split("=");f=c[0];j=c[1];h.appendChild(this._createInputElement("hidden",f,j))}}};this._appendChilds=function(d,c){if(this._isNotNull(c)){for(var b=0;b<c.length;b++){if(this._isNotNull(c[b])){d.appendChild(c[b])}}}};this._createInputElement=function(c,f,b){var d=null;if(this._isNotNull(b)==true){d=document.createElement("input");d.type=c;d.name=f;d.value=b}return d};this._createInputElementArr=function(d,h,g){var c=[];if(this._isNotNull(g)){try{for(var b=0;b<g.length;b++){c[b]=this._createInputElement(d,h,g[b])}}catch(f){throw f}}return c};this._openPopupToCenter=function(q,r,p,j,d){var f=(navigator.userAgent.indexOf("MSIE")>-1);var b=(navigator.userAgent.indexOf("Chrome")>-1);var g=(screen.width)?(screen.width-p)/2:0;var n=(screen.height)?(screen.height-j)/2:0;var c="height="+j+",width="+p+",top="+(j>screen.height?0:n)+",left="+g+(d?","+d:",location=no,resize=yes,resizable=yes,"+(j>screen.height?"scrollbars=yes":"scrollbars=no"));var l=null;try{l=window.open(q,r,c);if(l&b){if(l.screenX=="undefined"||l.screenX<0){alert("브라우저의 팝업표시가 가능하도록 설정을 변경해주세요.");return false}}else{if(!l){if(!f){alert("브라우저의 팝업표시가 가능하도록 설정을 변경해주세요.")}return false}}}catch(m){}return false};this._sendEventLog=function(b,c){try{if(b==="click"&&typeof this._htClickLog[c]!="undefined"){ectrack(this._htClickLog[c]["key"]+"."+this._htInitData.evkey,this._htClickLog[c]["baseUrl"])}else{if(b==="finish"&&typeof this._htFinishLog[c]!="undefined"){ectrack(this._htFinishLog[c]["key"]+"."+this._htInitData.evkey,this._htFinishLog[c]["baseUrl"])}}}catch(d){throw d}};this._getLogined=function(b){spi.util.requestJsonp(this._htAPI.API000,{},b,"callback")};this._makeShortUrl=function(b,c){spi.util.requestJsonp(this._htAPI.API101,{svcCode:"0022",url:b},c)};this._getShortUrl=function(d){var c="";var b=spi.util.toJson(d);switch(b.code){case"200":c=b.result.url;break;case"500":alert("성능 개선을 위한 임시점검 중입니다.");break;default:alert("단축URL 생성오류("+b.code+")");break}return c};this._getServiceName=function(){var b="";if(this._isNotNull(this._htInitData.servicename)){b=this._htInitData.servicename}else{if(this._isNotNull(this._htService[this._htInitData.evkey])){b=this._htService[this._htInitData.evkey]}}return b};this._getServiceName=function(){var b="";if(this._isNotNull(this._htInitData.servicename)){b=this._htInitData.servicename}else{if(this._isNotNull(this._htService[this._htInitData.evkey])){b=this._htService[this._htInitData.evkey]}}return b};this._openLoginForm=function(f,c,b,d){this._openPopupToCenter("https://nid.naver.com/nidlogin.login?url="+encodeURIComponent(f),c,b,d)};this._redirectLoginPage=function(b){document.location.href="https://nid.naver.com/nidlogin.login?mode=form&url="+encodeURIComponent(b)}}try{if(typeof draw_socialplugin=="function"){draw_socialplugin()}}catch(e){console.log(e)};
if(typeof me2p=="undefined"){me2p={}}if(typeof me2p_config_charset=="undefined"){me2p_config_charset="utf-8"}if(typeof me2p_config_isMobile=="undefined"){me2p_config_isMobile=false}if(typeof me2p_config_autoRender=="undefined"){me2p_config_autoRender=false}if(typeof me2p_config_loginProxyDomain=="undefined"){me2p_config_loginProxyDomain="plugin.me2day.net"}if(typeof me2p_config_debug=="undefined"){me2p_config_debug=false}me2p.ElementClassNames={BUTTON_CONTAINER:"me2button_container",BUTTON:"me2button_button",COUNT_BUBBLE:"me2button_count_bubble",COUNT:"me2button_count",DIALOG:"me2button_layer",DIALOG_MESSAGE:"me2button_layer_message",DIALOG_SIGNIN:"me2button_layer_signin",DIALOG_CLOSE:"me2button_layer_close",DIALOG_WRITE_FORM:"me2button_post_write_form",DIALOG_PROFILE_IMG:"me2button_profile_img",DIALOG_WRITE_INPUT:"me2button_write_input",DIALOG_PINGBACK_CHECKBOX:"me2button_pingback_checkbox",DIALOG_TEXT_LENGTH:"me2button_text_length",DIALOG_SUBMIT_BUTTON:"me2button_submit_button",LAYER_INFO_LINK:"me2button_layer_info_link"};me2p.AttributeNames={URL:"href",PLUGIN_KEY:"plugin_key",BEFORE_METOO_CLASS:"before_metoo_class",LOADING_METOO_CLASS:"loading_metoo_class",AFTER_METOO_CLASS:"after_metoo_class",DIALOG_ICON_CLASS_SUCCESS:"success_icon_class",DIALOG_ICON_CLASS_ERROR:"error_icon_class"};if(!window.console){window.console={};console.log=function(){};console.warn=function(){};console.error=function(){}}me2p.log=function(a){if(me2p_config_debug){console.log(a)}};(function(){var o=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,j="sizcache"+(Math.random()+"").replace(".",""),p=0,s=Object.prototype.toString,h=false,g=true,r=/\\/g,v=/\r\n/g,x=/\W/;[0,0].sort(function(){g=false;return 0});var d=function(C,e,F,G){F=F||[];e=e||document;var I=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!C||typeof C!=="string"){return F}var z,K,N,y,J,M,L,E,B=true,A=d.isXML(e),D=[],H=C;do{o.exec("");z=o.exec(H);if(z){H=z[3];D.push(z[1]);if(z[2]){y=z[3];break}}}while(z);if(D.length>1&&k.exec(C)){if(D.length===2&&l.relative[D[0]]){K=t(D[0]+D[1],e,G)}else{K=l.relative[D[0]]?[e]:d(D.shift(),e);while(D.length){C=D.shift();if(l.relative[C]){C+=D.shift()}K=t(C,K,G)}}}else{if(!G&&D.length>1&&e.nodeType===9&&!A&&l.match.ID.test(D[0])&&!l.match.ID.test(D[D.length-1])){J=d.find(D.shift(),e,A);e=J.expr?d.filter(J.expr,J.set)[0]:J.set[0]}if(e){J=G?{expr:D.pop(),set:m(G)}:d.find(D.pop(),D.length===1&&(D[0]==="~"||D[0]==="+")&&e.parentNode?e.parentNode:e,A);K=J.expr?d.filter(J.expr,J.set):J.set;if(D.length>0){N=m(K)}else{B=false}while(D.length){M=D.pop();L=M;if(!l.relative[M]){M=""}else{L=D.pop()}if(L==null){L=e}l.relative[M](N,L,A)}}else{N=D=[]}}if(!N){N=K}if(!N){d.error(M||C)}if(s.call(N)==="[object Array]"){if(!B){F.push.apply(F,N)}else{if(e&&e.nodeType===1){for(E=0;N[E]!=null;E++){if(N[E]&&(N[E]===true||N[E].nodeType===1&&d.contains(e,N[E]))){F.push(K[E])}}}else{for(E=0;N[E]!=null;E++){if(N[E]&&N[E].nodeType===1){F.push(K[E])}}}}}else{m(N,F)}if(y){d(y,I,F,G);d.uniqueSort(F)}return F};d.uniqueSort=function(y){if(q){h=g;y.sort(q);if(h){for(var e=1;e<y.length;e++){if(y[e]===y[e-1]){y.splice(e--,1)}}}}return y};d.matches=function(e,y){return d(e,null,null,y)};d.matchesSelector=function(e,y){return d(y,null,null,[e]).length>0};d.find=function(E,e,F){var D,z,B,A,C,y;if(!E){return[]}for(z=0,B=l.order.length;z<B;z++){C=l.order[z];if((A=l.leftMatch[C].exec(E))){y=A[1];A.splice(1,1);if(y.substr(y.length-1)!=="\\"){A[1]=(A[1]||"").replace(r,"");D=l.find[C](A,e,F);if(D!=null){E=E.replace(l.match[C],"");break}}}}if(!D){D=typeof e.getElementsByTagName!=="undefined"?e.getElementsByTagName("*"):[]}return{set:D,expr:E}};d.filter=function(I,H,L,B){var D,e,G,N,K,y,A,C,J,z=I,M=[],F=H,E=H&&H[0]&&d.isXML(H[0]);while(I&&H.length){for(G in l.filter){if((D=l.leftMatch[G].exec(I))!=null&&D[2]){y=l.filter[G];A=D[1];e=false;D.splice(1,1);if(A.substr(A.length-1)==="\\"){continue}if(F===M){M=[]}if(l.preFilter[G]){D=l.preFilter[G](D,F,L,M,B,E);if(!D){e=N=true}else{if(D===true){continue}}}if(D){for(C=0;(K=F[C])!=null;
C++){if(K){N=y(K,D,C,F);J=B^N;if(L&&N!=null){if(J){e=true}else{F[C]=false}}else{if(J){M.push(K);e=true}}}}}if(N!==undefined){if(!L){F=M}I=I.replace(l.match[G],"");if(!e){return[]}break}}}if(I===z){if(e==null){d.error(I)}else{break}}z=I}return F};d.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var b=d.getText=function(B){var z,A,e=B.nodeType,y="";if(e){if(e===1||e===9){if(typeof B.textContent==="string"){return B.textContent}else{if(typeof B.innerText==="string"){return B.innerText.replace(v,"")}else{for(B=B.firstChild;B;B=B.nextSibling){y+=b(B)}}}}else{if(e===3||e===4){return B.nodeValue}}}else{for(z=0;(A=B[z]);z++){if(A.nodeType!==8){y+=b(A)}}}return y};var l=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(D,y){var A=typeof y==="string",C=A&&!x.test(y),E=A&&!C;if(C){y=y.toLowerCase()}for(var z=0,e=D.length,B;z<e;z++){if((B=D[z])){while((B=B.previousSibling)&&B.nodeType!==1){}D[z]=E||B&&B.nodeName.toLowerCase()===y?B||false:B===y}}if(E){d.filter(y,D,true)}},">":function(D,y){var C,B=typeof y==="string",z=0,e=D.length;if(B&&!x.test(y)){y=y.toLowerCase();for(;z<e;z++){C=D[z];if(C){var A=C.parentNode;D[z]=A.nodeName.toLowerCase()===y?A:false}}}else{for(;z<e;z++){C=D[z];if(C){D[z]=B?C.parentNode:C.parentNode===y}}if(B){d.filter(y,D,true)}}},"":function(A,y,C){var B,z=p++,e=u;if(typeof y==="string"&&!x.test(y)){y=y.toLowerCase();B=y;e=a}e("parentNode",y,z,A,B,C)},"~":function(A,y,C){var B,z=p++,e=u;if(typeof y==="string"&&!x.test(y)){y=y.toLowerCase();B=y;e=a}e("previousSibling",y,z,A,B,C)}},find:{ID:function(y,z,A){if(typeof z.getElementById!=="undefined"&&!A){var e=z.getElementById(y[1]);return e&&e.parentNode?[e]:[]}},NAME:function(z,C){if(typeof C.getElementsByName!=="undefined"){var y=[],B=C.getElementsByName(z[1]);for(var A=0,e=B.length;A<e;A++){if(B[A].getAttribute("name")===z[1]){y.push(B[A])}}return y.length===0?null:y}},TAG:function(e,y){if(typeof y.getElementsByTagName!=="undefined"){return y.getElementsByTagName(e[1])}}},preFilter:{CLASS:function(A,y,z,e,D,E){A=" "+A[1].replace(r,"")+" ";if(E){return A}for(var B=0,C;(C=y[B])!=null;B++){if(C){if(D^(C.className&&(" "+C.className+" ").replace(/[\t\n\r]/g," ").indexOf(A)>=0)){if(!z){e.push(C)}}else{if(z){y[B]=false}}}}return false},ID:function(e){return e[1].replace(r,"")},TAG:function(y,e){return y[1].replace(r,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){if(!e[2]){d.error(e[0])}e[2]=e[2].replace(/^\+|\s*/g,"");var y=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(y[1]+(y[2]||1))-0;e[3]=y[3]-0}else{if(e[2]){d.error(e[0])}}e[0]=p++;return e},ATTR:function(B,y,z,e,C,D){var A=B[1]=B[1].replace(r,"");if(!D&&l.attrMap[A]){B[1]=l.attrMap[A]}B[4]=(B[4]||B[5]||"").replace(r,"");if(B[2]==="~="){B[4]=" "+B[4]+" "}return B},PSEUDO:function(B,y,z,e,C){if(B[1]==="not"){if((o.exec(B[3])||"").length>1||/^\w/.test(B[3])){B[3]=d(B[3],null,null,y)}else{var A=d.filter(B[3],y,z,true^C);if(!z){e.push.apply(e,A)}return false}}else{if(l.match.POS.test(B[0])||l.match.CHILD.test(B[0])){return true}}return B},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex
}return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(z,y,e){return !!d(e[3],z).length},header:function(e){return(/h\d/i).test(e.nodeName)},text:function(z){var e=z.getAttribute("type"),y=z.type;return z.nodeName.toLowerCase()==="input"&&"text"===y&&(e===y||e===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(y){var e=y.nodeName.toLowerCase();return(e==="input"||e==="button")&&"submit"===y.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(y){var e=y.nodeName.toLowerCase();return(e==="input"||e==="button")&&"reset"===y.type},button:function(y){var e=y.nodeName.toLowerCase();return e==="input"&&"button"===y.type||e==="button"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(y,e){return e===0},last:function(z,y,e,A){return y===A.length-1},even:function(y,e){return e%2===0},odd:function(y,e){return e%2===1},lt:function(z,y,e){return y<e[3]-0},gt:function(z,y,e){return y>e[3]-0},nth:function(z,y,e){return e[3]-0===y},eq:function(z,y,e){return e[3]-0===y}},filter:{PSEUDO:function(z,E,D,F){var e=E[1],y=l.filters[e];if(y){return y(z,D,E,F)}else{if(e==="contains"){return(z.textContent||z.innerText||b([z])||"").indexOf(E[3])>=0}else{if(e==="not"){var A=E[3];for(var C=0,B=A.length;C<B;C++){if(A[C]===z){return false}}return true}else{d.error(e)}}}},CHILD:function(z,B){var A,H,D,G,e,C,F,E=B[1],y=z;switch(E){case"only":case"first":while((y=y.previousSibling)){if(y.nodeType===1){return false}}if(E==="first"){return true}y=z;case"last":while((y=y.nextSibling)){if(y.nodeType===1){return false}}return true;case"nth":A=B[2];H=B[3];if(A===1&&H===0){return true}D=B[0];G=z.parentNode;if(G&&(G[j]!==D||!z.nodeIndex)){C=0;for(y=G.firstChild;y;y=y.nextSibling){if(y.nodeType===1){y.nodeIndex=++C}}G[j]=D}F=z.nodeIndex-H;if(A===0){return F===0}else{return(F%A===0&&F/A>=0)}}},ID:function(y,e){return y.nodeType===1&&y.getAttribute("id")===e},TAG:function(y,e){return(e==="*"&&y.nodeType===1)||!!y.nodeName&&y.nodeName.toLowerCase()===e},CLASS:function(y,e){return(" "+(y.className||y.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(C,A){var z=A[1],e=d.attr?d.attr(C,z):l.attrHandle[z]?l.attrHandle[z](C):C[z]!=null?C[z]:C.getAttribute(z),D=e+"",B=A[2],y=A[4];return e==null?B==="!=":!B&&d.attr?e!=null:B==="="?D===y:B==="*="?D.indexOf(y)>=0:B==="~="?(" "+D+" ").indexOf(y)>=0:!y?D&&e!==false:B==="!="?D!==y:B==="^="?D.indexOf(y)===0:B==="$="?D.substr(D.length-y.length)===y:B==="|="?D===y||D.substr(0,y.length+1)===y+"-":false},POS:function(B,y,z,C){var e=y[2],A=l.setFilters[e];if(A){return A(B,z,y,C)}}}};var k=l.match.POS,c=function(y,e){return"\\"+(e-0+1)};for(var f in l.match){l.match[f]=new RegExp(l.match[f].source+(/(?![^\[]*\])(?![^\(]*\))/.source));l.leftMatch[f]=new RegExp(/(^(?:.|\r|\n)*?)/.source+l.match[f].source.replace(/\\(\d+)/g,c))}var m=function(y,e){y=Array.prototype.slice.call(y,0);if(e){e.push.apply(e,y);return e}return y};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(w){m=function(B,A){var z=0,y=A||[];if(s.call(B)==="[object Array]"){Array.prototype.push.apply(y,B)}else{if(typeof B.length==="number"){for(var e=B.length;z<e;z++){y.push(B[z])}}else{for(;B[z];z++){y.push(B[z])}}}return y}}var q,n;if(document.documentElement.compareDocumentPosition){q=function(y,e){if(y===e){h=true;return 0}if(!y.compareDocumentPosition||!e.compareDocumentPosition){return y.compareDocumentPosition?-1:1}return y.compareDocumentPosition(e)&4?-1:1}}else{q=function(F,E){if(F===E){h=true;return 0}else{if(F.sourceIndex&&E.sourceIndex){return F.sourceIndex-E.sourceIndex}}var C,y,z=[],e=[],B=F.parentNode,D=E.parentNode,G=B;
if(B===D){return n(F,E)}else{if(!B){return -1}else{if(!D){return 1}}}while(G){z.unshift(G);G=G.parentNode}G=D;while(G){e.unshift(G);G=G.parentNode}C=z.length;y=e.length;for(var A=0;A<C&&A<y;A++){if(z[A]!==e[A]){return n(z[A],e[A])}}return A===C?n(F,e[A],-1):n(z[A],E,1)};n=function(y,e,z){if(y===e){return z}var A=y.nextSibling;while(A){if(A===e){return -1}A=A.nextSibling}return 1}}(function(){var y=document.createElement("div"),z="script"+(new Date()).getTime(),e=document.documentElement;y.innerHTML="<a name='"+z+"'/>";e.insertBefore(y,e.firstChild);if(document.getElementById(z)){l.find.ID=function(B,C,D){if(typeof C.getElementById!=="undefined"&&!D){var A=C.getElementById(B[1]);return A?A.id===B[1]||typeof A.getAttributeNode!=="undefined"&&A.getAttributeNode("id").nodeValue===B[1]?[A]:undefined:[]}};l.filter.ID=function(C,A){var B=typeof C.getAttributeNode!=="undefined"&&C.getAttributeNode("id");return C.nodeType===1&&B&&B.nodeValue===A}}e.removeChild(y);e=y=null})();(function(){var e=document.createElement("div");e.appendChild(document.createComment(""));if(e.getElementsByTagName("*").length>0){l.find.TAG=function(y,C){var B=C.getElementsByTagName(y[1]);if(y[1]==="*"){var A=[];for(var z=0;B[z];z++){if(B[z].nodeType===1){A.push(B[z])}}B=A}return B}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){l.attrHandle.href=function(y){return y.getAttribute("href",2)}}e=null})();if(document.querySelectorAll){(function(){var e=d,A=document.createElement("div"),z="__sizzle__";A.innerHTML="<p class='TEST'></p>";if(A.querySelectorAll&&A.querySelectorAll(".TEST").length===0){return}d=function(L,C,G,K){C=C||document;if(!K&&!d.isXML(C)){var J=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(L);if(J&&(C.nodeType===1||C.nodeType===9)){if(J[1]){return m(C.getElementsByTagName(L),G)}else{if(J[2]&&l.find.CLASS&&C.getElementsByClassName){return m(C.getElementsByClassName(J[2]),G)}}}if(C.nodeType===9){if(L==="body"&&C.body){return m([C.body],G)}else{if(J&&J[3]){var F=C.getElementById(J[3]);if(F&&F.parentNode){if(F.id===J[3]){return m([F],G)}}else{return m([],G)}}}try{return m(C.querySelectorAll(L),G)}catch(H){}}else{if(C.nodeType===1&&C.nodeName.toLowerCase()!=="object"){var D=C,E=C.getAttribute("id"),B=E||z,N=C.parentNode,M=/^\s*[+~]/.test(L);if(!E){C.setAttribute("id",B)}else{B=B.replace(/'/g,"\\$&")}if(M&&N){C=C.parentNode}try{if(!M||N){return m(C.querySelectorAll("[id='"+B+"'] "+L),G)}}catch(I){}finally{if(!E){D.removeAttribute("id")}}}}}return e(L,C,G,K)};for(var y in e){d[y]=e[y]}A=null})()}(function(){var e=document.documentElement,z=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(z){var B=!z.call(document.createElement("div"),"div"),y=false;try{z.call(document.documentElement,"[test!='']:sizzle")}catch(A){y=true}d.matchesSelector=function(D,F){F=F.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!d.isXML(D)){try{if(y||!l.match.PSEUDO.test(F)&&!/!=/.test(F)){var C=z.call(D,F);if(C||!B||D.document&&D.document.nodeType!==11){return C}}}catch(E){}}return d(F,null,null,[D]).length>0}}})();(function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}l.order.splice(1,0,"CLASS");l.find.CLASS=function(y,z,A){if(typeof z.getElementsByClassName!=="undefined"&&!A){return z.getElementsByClassName(y[1])}};e=null})();function a(y,D,C,G,E,F){for(var A=0,z=G.length;A<z;A++){var e=G[A];if(e){var B=false;e=e[y];while(e){if(e[j]===C){B=G[e.sizset];break}if(e.nodeType===1&&!F){e[j]=C;e.sizset=A}if(e.nodeName.toLowerCase()===D){B=e;break}e=e[y]}G[A]=B}}}function u(y,D,C,G,E,F){for(var A=0,z=G.length;A<z;A++){var e=G[A];if(e){var B=false;e=e[y];while(e){if(e[j]===C){B=G[e.sizset];break}if(e.nodeType===1){if(!F){e[j]=C;e.sizset=A}if(typeof D!=="string"){if(e===D){B=true;break}}else{if(d.filter(D,[e]).length>0){B=e;break}}}e=e[y]}G[A]=B}}}if(document.documentElement.contains){d.contains=function(y,e){return y!==e&&(y.contains?y.contains(e):true)
}}else{if(document.documentElement.compareDocumentPosition){d.contains=function(y,e){return !!(y.compareDocumentPosition(e)&16)}}else{d.contains=function(){return false}}}d.isXML=function(e){var y=(e?e.ownerDocument||e:0).documentElement;return y?y.nodeName!=="HTML":false};var t=function(z,e,D){var C,E=[],B="",F=e.nodeType?[e]:e;while((C=l.match.PSEUDO.exec(z))){B+=C[0];z=z.replace(l.match.PSEUDO,"")}z=l.relative[z]?z+"*":z;for(var A=0,y=F.length;A<y;A++){d(z,F[A],E,D)}return d.filter(B,E)};window.me2p.Sizzle=d})();me2p.Button=function(b,a){this.isOnLoaded=false;this.isMetooRequesting=false;this._value=b;this.$value=function(){return this._value};this.url=a;this.pluginKey=null;this.elements={};this.elements.button=null;this.elements.countContainer=null;this.elements.count=null;this.elements.dialog=null;this.dialog=null;this.loginHelper=null;this.isPostExist=false;this.$init=function(){this.pluginKey=this.$value().getAttribute(me2p.AttributeNames.PLUGIN_KEY);this.elements.button=me2p.Sizzle("."+me2p.ElementClassNames.BUTTON,this.$value())[0];this.elements.countContainer=me2p.Sizzle("."+me2p.ElementClassNames.COUNT_BUBBLE,this.$value())[0];this.elements.count=me2p.Sizzle("."+me2p.ElementClassNames.COUNT,this.$value())[0];this.elements.dialog=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG,this.$value())[0];this.dialog=new me2p.Dialog(this);this.onClickAction=me2p.Util.fn(function(d){var c=me2p.Service.getWebPageInfo();if(me2p.Service.errorResponse&&me2p.Service.errorResponse.code){this.showError(me2p.Service.errorResponse)}else{this.metoo()}me2p.Util.stopDefaultEvent(d);return false},this).bind();this.elements.button.onclick=me2p.Util.fn(function(c){if(!me2p.Main.isWebPageInfoRequested){me2p.updateElementsForCallback(this.onClickAction)}else{this.onClickAction()}},this).bind()};this.metoo=function(){var c=me2p.Service.getWebPageInfo();this.isPostExist=c.postInfoMap[this.url];if(this.isMetooRequesting||this.dialog.isOpen()){return false}if(me2p.Service.isLoggedIn()){this.onBeforeMetoo();this.isMetooRequesting=true;this.showLoadingImage();var h={url:this.url,security_token:c.securityToken[this.url]};if(this.pluginKey){h.plugin_key=this.pluginKey}try{if(!c.postInfoMap[this.url].postId){h.title=me2p.Main.title}}catch(d){}var g=me2p.Util.fn(function(l){var j=l;if(j.code=="0"){if(j.result.postInfo&&j.result.postInfo.postId){me2p.Service.updatePostInfo(j.result.postInfo);me2p.MetooHandler.updateAll()}this.onAfterMetoo()}else{if(j.code=="1002"){if(me2p_config_isMobile){me2p.Service.requestWebPageInfo(me2p.Service.webPageInfoParams,me2p.Util.fn(this.login,this).bind())}else{this.login()}this.hideLoadingImage();this.isMetooRequesting=false;return}for(var e in j){me2p.log(e+"="+j[e])}}this.hideLoadingImage();this.showDialog(j);this.isMetooRequesting=false},this).bind();var f=me2p.Util.fn(function(){this.hideLoadingImage();this.isMetooRequesting=false;this.showError()},this).bind();me2p.Service.requestMetoo(h,g,f)}else{this.login()}};this.login=function(){this.loginHelper=(!this.loginHelper)?new me2p.LoginHelper():this.loginHelper;if(me2p_config_isMobile){var c="";var e="";var d=me2p.Service.getWebPageInfo();if(d.securityToken){c=d.securityToken[this.url]||""}e=d.timestamp||"";this.loginHelper.gotoLoginPage({url:this.url,plugin_key:this.pluginKey,redirect_url:location.href,security_token:c,timestamp:e})}else{this.loginHelper.openLoginWindow({pluginType:"button",url:this.url},me2p.Util.fn(this.metoo,this).bind())}};this.showLoadingImage=function(){me2p.Util.addClass(this.elements.button,this.$value().getAttribute(me2p.AttributeNames.LOADING_METOO_CLASS))};this.hideLoadingImage=function(){me2p.Util.removeClass(this.elements.button,this.$value().getAttribute(me2p.AttributeNames.LOADING_METOO_CLASS))};this.showDialog=function(c){this.onBeforeShowLayer();this.dialog.show(c)};this.showError=function(c){if(!c){this.dialog.showDefaultError()}this.dialog.show(c)};this.updateUI=function(c){me2p.Util.addClass(this.elements.button,this.$value().getAttribute(me2p.AttributeNames.BEFORE_METOO_CLASS));if(!c){c=me2p.Service.getWebPageInfo().postInfoMap[this.url]
}if(!c){this.elements.countContainer.style.display="none";return}this._updateCount(c);this._updateMetooStatus(c);if(!this.isOnLoaded){this.isOnLoaded=true;this.onLoad()}};this._updateCount=function(c){var e,f,d;e=c.metooCount;f=c.permalink;if(e>=999500000){d="∞"}else{if(e>=1000000){d=Math.round(parseFloat(e/1000000))+"M"}else{if(e>=10000){d=Math.round(parseFloat(e/1000))+"K"}else{if(e>0){d=me2p.Util.numberWithDelimiter(e)}else{d=0}}}}if(e>0){this.elements.countContainer.style.display="";this.elements.count.innerHTML=me2p.Util.numberWithDelimiter(e)}if(f){this.elements.count.setAttribute("target","_blank");this.elements.count.setAttribute("href",f)}};this._updateMetooStatus=function(c){var d=c.metooStatus;if(d=="0"||d=="1"){this._setMetooed()}};this._setMetooed=function(){me2p.Util.removeClass(this.elements.button,this.$value().getAttribute(me2p.AttributeNames.BEFORE_METOO_CLASS));me2p.Util.addClass(this.elements.button,this.$value().getAttribute(me2p.AttributeNames.AFTER_METOO_CLASS))};this.onLoad=me2p.Util.EmptyFunction;this.onBeforeMetoo=me2p.Util.EmptyFunction;this.onAfterMetoo=me2p.Util.EmptyFunction;this.onBeforeShowLayer=me2p.Util.EmptyFunction;this.onShowLayer=me2p.Util.EmptyFunction;this.onCloseLayer=me2p.Util.EmptyFunction;this.onBeforePost=me2p.Util.EmptyFunction;this.onAfterPost=me2p.Util.EmptyFunction;this.closeLayer=function(){this.dialog.close()};this.registerEvent=function(d,c){this[d]=c};this.$init()};me2p.MetooHandler={buttonList:[],buttonMap:{},pluginKey:null,urls:[],reset:function(){this.buttonList=[];this.buttonMap={};this.pluginKey=null;this.urls=[]},register:function(d,c,a){if(typeof a=="undefined"){a=0}if(!this.buttonMap[c]||!this.buttonMap[c][a]){var b=new me2p.Button(d,c);this.buttonList.push(b);if(!this.buttonMap[c]){this.buttonMap[c]=[]}this.buttonMap[c][a]=b;this.urls.push(c)}else{me2p.log("['"+c+"']["+a+"] has already been registered.")}if(this.buttonMap[c][a]){if(!this.pluginKey){this.pluginKey=this.buttonMap[c][a].pluginKey}}},updateAll:function(){for(var b=0,a=this.buttonList.length;b<a;b++){if(this.buttonList[b]){this.buttonList[b].updateUI()}}},get:function(a){return new this.ButtonHandler(this.buttonMap[a])},getAll:function(){return new this.ButtonHandler(me2p.MetooHandler.buttonList)},ButtonHandler:function(a){this.list=a;this.registerEvent=function(e,d){if(this.list){for(var c=0,b=this.list.length;c<b;c++){if(this.list[c]){this.list[c].registerEvent(e,d)}}}else{console.log("Button Object does not exist.")}},this.closeLayer=function(){for(var c=0,b=this.list.length;c<b;c++){if(this.list[c]){this.list[c].closeLayer()}}}}};me2p.MessageText={"016":"미투데이 플러그인이 정상적으로 작동되고 있지 않습니다.","8000":"내 미투데이 생성에 실패했습니다. 단체회원인 경우 미투데이 생성을 하실 수 없습니다."};me2p.MessageTemplate={M004:'<strong><a href="http://me2day.net/{=userId}" target="_blank">{=nickname}</a>님의 <a href="{=permalink}" target="_blank">포스트</a>에 <a href="http://me2day.net/{=loginUserId}/metoo" target="_blank">미투</a>했습니다.</strong>',M004_1:'<strong><a href="http://me2day.net/{=userId}" target="_blank">{=nickname}</a>님의 <a href="{=permalink}" target="_blank">포스트</a>에 이미 <a href="http://me2day.net/{=loginUserId}/metoo" target="_blank">미투</a>했습니다.</strong>',M005:"댓글을 작성해주세요.",M006:'<strong>댓글을 등록 했습니다.</strong><a href="http://me2day.net/{=userId}" target="_blank">{=nickname}</a>님의 미투데이에서 전체 댓글을 보실 수 있습니다.<a href="{=permalink}" target="_blank" class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'">글보러가기</a>',M009:'<strong><a href="http://me2day.net/{=userId}" target="_blank">{=nickname}</a>님의 <a href="{=permalink}" target="_blank">포스트</a>가 생성되었습니다.</strong>',M009_1:'<strong><a href="http://me2day.net/{=userId}" target="_blank">{=nickname}</a>님의 <a href="{=permalink}" target="_blank">포스트</a>가 이미 생성되었습니다.</strong>',M010:'<a href="http://me2day.net/front/rules" target="_blank">미투데이 운영원칙</a>에 따라 활동 제한 조치중입니다.<br>활동 제한 기간 중에는 해당 활동이 제한됩니다.',M011:'<a href="http://me2day.net/{=ownerUserId}" target="_blank">{=ownerNickname}</a>님이 <a href="http://me2day.net/{=loginUserId}" target="_blank">{=loginNickname}</a>님을 차단했습니다.',M012:'<a href="http://me2day.net/{=ownerUserId}" target="_blank">{=ownerNickname}</a>님은 프로필사진, 휴대폰번호, 한줄소개 등이 등록되어 있지 않은 회원으로부터는 댓글을 받지 않습니다. <a class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'" href="http://me2day.net/{=loginUserId}/setting?open_profile=true" target="_blank">프로필 업데이트 하러 가기</a>',M013:'<strong>미투데이 서비스가 점검 중입니다.</strong>점검시간 동안은 기능 이용이 제한됩니다. <a href="http://me2day.net/me2/blog" target="_blank" class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'">미투데이 공지 보기</a>',M014:"<strong>일시적인 오류가 발생했습니다.</strong>이용에 불편을 드린 점 진심으로 사과드립니다.",M016:"<strong>"+me2p.MessageText["016"]+"</strong>",M019:"<strong>잘못된 요청입니다.</strong> {=message}",M020:"<strong>일시중지 중에는 이용하실 수 없는 기능입니다.</strong>",M021:'나의 미투데이 (<a href="http://me2day.net/{=createdId}" target="_blank" class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'">http://me2day.net/{=createdId}</a>)의 <br /> <a href="http://me2day.net/{=createdId}/metoo" target="_blank" class="me2_post">미투한글</a>에서 확인할 수 있습니다.',M8000:"<strong>"+me2p.MessageText["8000"]+"</strong>"};
me2p.MessageTemplate2={M004:'<strong><a href="{=permalink}" target="_blank">포스트</a>에 <a href="http://me2day.net/{=loginUserId}/metoo" target="_blank">미투</a>했습니다.</strong>',M004_1:'<strong><a href="{=permalink}" target="_blank">포스트</a>에 이미 <a href="http://me2day.net/{=loginUserId}/metoo" target="_blank">미투</a>했습니다.</strong>',M005:"댓글을 작성해주세요.",M006:'<strong>댓글을 등록 했습니다.</strong><a href="{=permalink}" target="_blank" class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'">글보러가기</a>',M009:"<strong>생성되었습니다.</strong>",M009_1:"<strong>이미 생성되었습니다.</strong>",M010:'<a href="http://me2day.net/front/rules" target="_blank">미투데이 운영원칙</a>에 따라 활동 제한 조치중입니다.<br>활동 제한 기간 중에는 해당 활동이 제한됩니다.',M011:"차단되었기 때문에 미투를 할 수가 없습니다.",M012:'프로필사진, 휴대폰번호, 한줄소개 등이 등록되어 있지 않은 회원으로부터는 댓글을 받지 않습니다. <a class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'" href="http://me2day.net/{=loginUserId}/setting?open_profile=true" target="_blank">프로필 업데이트 하러 가기</a>',M013:'<strong>미투데이 서비스가 점검 중입니다.</strong>점검시간 동안은 기능 이용이 제한됩니다. <a href="http://me2day.net/me2/blog" target="_blank" class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'">미투데이 공지 보기</a>',M014:"<strong>일시적인 오류가 발생했습니다.</strong>이용에 불편을 드린 점 진심으로 사과드립니다.",M016:"<strong>"+me2p.MessageText["016"]+"</strong>",M019:"<strong>잘못된 요청입니다.</strong> {=message}",M020:"<strong>일시중지 중에는 이용하실 수 없는 기능입니다.</strong>",M021:'나의 미투데이 (<a href="http://me2day.net/{=createdId}" target="_blank" class="'+me2p.ElementClassNames.LAYER_INFO_LINK+'">http://me2day.net/{=createdId}</a>)의 <br /> <a href="http://me2day.net/{=createdId}/metoo" target="_blank" class="me2_post">미투한글</a>에서 확인할 수 있습니다.',M8000:"<strong>"+me2p.MessageText["8000"]+"</strong>"};me2p.MessageTemplate_DA={M004:"미투했습니다.",M004_1:"이미 미투했습니다.",M009:"생성되었습니다.",M009_1:"이미 생성되었습니다.",M010:"활동 제한 조치중입니다.",M011:"차단되어 미투를 할 수 없습니다.",M012:"",M013:"미투데이 서비스가 점검 중입니다.",M014:"일시적인 오류가 발생했습니다.",M016:'플러그인이 정상적으로 작동되 않습니다."',M019:"잘못된 요청입니다.",M020:"일시중지 중에는 이용하실 수 없는 기능입니다.",M021:"",M8000:"단체회원인 경우 미투데이 생성을 하실 수 없습니다."};me2p.Dialog=function(a){this._isOpen=false;this.button=a;this.$value=function(){return this.button.elements.dialog};this.elements={};this.elements.signin=null;this.elements.message=null;this.elements.closeBt=null;this.elements.postBox=null;this.postBox=null;this.attr={};this.attr.successIconClass="";this.attr.errorIconClass="";this.isCommentWritable=function(b){if(b){if(b.code=="0"||b.code=="1"||b.code=="2"||b.code=="3"){return true}return false}return false};this.$init=function(){this.elements.message=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_MESSAGE,this.$value())[0];this.elements.signin=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_SIGNIN,this.$value())[0];this.elements.closeBt=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_CLOSE,this.$value())[0];this.elements.postBox=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_WRITE_FORM,this.$value())[0];this.attr.successIconClass=this.$value().getAttribute(me2p.AttributeNames.DIALOG_ICON_CLASS_SUCCESS);this.attr.errorIconClass=this.$value().getAttribute(me2p.AttributeNames.DIALOG_ICON_CLASS_ERROR);this.elements.closeBt.onclick=me2p.Util.fn(function(){this.close()},this).bind()};this.isOpen=function(){return this._isOpen};this.show=function(b){if(!b){this.showDefaultError();return}this._setIcon(b.code);var f=this._getMessageMarkup(b);this.updateMessage(f);var d=me2p.Service.getWebPageInfo();var e=d.loginUser.createdId;if(e){var c=this._getSigninMarkup(e);this._updateHTML(this.elements.signin,c);this.elements.signin.style.display="";d.loginUser.createdId=null}else{this.elements.signin.style.display="none"}this.$value().style.display="";if(this.isCommentWritable(b)){if(this.elements.postBox){this.postBox=(this.postBox?this.postBox:new me2p.PostBox(this));this.postBox.show()}}this.button.onShowLayer(this.$value());this._isOpen=true};this.updateMessage=function(b){this._updateHTML(this.elements.message,b)};this.close=function(){this.button.onCloseLayer();this.$value().style.display="none";this._isOpen=false};this.showDefaultError=function(){alert(me2p.MessageText["016"])};this._updateHTML=function(b,c){b.innerHTML=c};this._isCommentWritable=function(b){if(b=="0"||b=="1"||b=="2"||b=="3"){return true
}else{return false}};this._setIcon=function(b){var c=this.elements.message;if(this._isCommentWritable(b)){me2p.Util.removeClass(c,this.attr.errorIconClass);me2p.Util.addClass(c,this.attr.successIconClass)}else{me2p.Util.removeClass(c,this.attr.successIconClass);me2p.Util.addClass(c,this.attr.errorIconClass)}};this._getSigninMarkup=function(d){var b=me2p.Util.Template(me2p.MessageTemplate.M021);var c=b.process({createdId:d});return c||""};this._getMessageMarkup=function(d){if(!d){return}var f,b;var g="";var e=me2p.Service.getWebPageInfo();var c=(d.result&&d.result.postInfo)?d.result.postInfo:null;switch(d.code){case"0":if(c){if(c.metooStatus=="0"){b="M004"}else{if(c.metooStatus=="1"){b="M004_1"}else{if(c.metooStatus=="2"){b="M009"}else{if(c.metooStatus=="3"){if(this.button.isPostExist){b="M009_1"}else{b="M009"}}else{b="M016"}}}}if(e.ownerUser){f=me2p.Util.Template(me2p.MessageTemplate[b]);g=f.process({nickname:e.ownerUser.nickname,userId:e.ownerUser.userId,permalink:d.result.postInfo.permalink,loginUserId:e.loginUser.userId})}else{f=me2p.Util.Template(me2p.MessageTemplate2[b]);g=f.process({permalink:d.result.postInfo.permalink,loginUserId:e.loginUser.userId})}}else{g=d.message}break;case"1004":f=me2p.Util.Template(me2p.MessageTemplate.M019);g=f.process({message:d.message});break;case"1105":f=me2p.Util.Template(me2p.MessageTemplate.M020);g=f.process();break;case"1106":f=me2p.Util.Template(me2p.MessageTemplate.M010);g=f.process();break;case"1107":if(e.ownerUser){f=me2p.Util.Template(me2p.MessageTemplate.M011);g=f.process({ownerNickname:e.ownerUser.nickname,ownerUserId:e.ownerUser.userId,loginNickname:e.loginUser.nickname,loginUserId:e.loginUser.userId})}else{f=me2p.Util.Template(me2p.MessageTemplate2.M011);g=f.process()}break;case"1108":if(e.ownerUser){f=me2p.Util.Template(me2p.MessageTemplate.M012);g=f.process({ownerNickname:e.ownerUser.nickname,ownerUserId:e.ownerUser.userId,loginUserId:e.loginUser.userId})}else{f=me2p.Util.Template(me2p.MessageTemplate2.M012);g=f.process()}break;case"3001":g=me2p.Util.Template(me2p.MessageTemplate.M013).process();break;case"1011":case"1201":g=d.message;break;case"1202":case"1203":case"1204":case"1209":g=me2p.Util.Template(me2p.MessageTemplate.M016).process();break;case"8000":g=me2p.Util.Template(me2p.MessageTemplate.M8000).process();break;default:if(d.code>=2000){g=me2p.Util.Template(me2p.MessageTemplate.M014).process()}else{f=me2p.Util.Template(me2p.MessageTemplate.M019);g=f.process({message:d.message})}}return g};this.$init()};me2p.PostBox=function(a){this.dialog=a;this.$value=function(){return this.dialog.elements.postBox};this.elements={};this.elements.form=null;this.elements.profileImage=null;this.elements.writeInput=null;this.elements.pingbackCheckbox=null;this.elements.textLength=null;this.elements.submitButton=null;this.isRequesting=false;this.$init=function(){this.elements.container=this.dialog.elements.postBox;this.elements.form=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_WRITE_FORM,this.$value())[0];this.elements.profileImage=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_PROFILE_IMG,this.$value())[0];this.elements.profileImage.src=me2p.Service.getWebPageInfo().loginUser.profileImage;this.elements.writeInput=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_WRITE_INPUT,this.$value())[0];this.elements.pingbackCheckbox=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_PINGBACK_CHECKBOX,this.$value())[0];this.elements.textLength=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_TEXT_LENGTH,this.$value())[0];this.elements.submitButton=me2p.Sizzle("."+me2p.ElementClassNames.DIALOG_SUBMIT_BUTTON,this.$value())[0];this.elements.submitButton.onclick=me2p.Util.fn(function(b){this.submit(b);return false},this).bind();me2p.Util.attachEvent(this.$value(),"submit",me2p.Util.fn(function(b){this.submit(b);return false},this).bind());if(!me2p_config_isMobile){me2p.Util.attachEvent(this.elements.writeInput,"keydown",me2p.Util.fn(function(d){var b=(d)?d:(window.event)?window.event:null;if(b){var c=(b.charCode)?b.charCode:((b.keyCode)?b.keyCode:((b.which)?b.which:0));if(c=="13"){this.submit(b)}}},this).bind())
}};this.show=function(){this.elements.container.style.display=""};this.close=function(){this.elements.container.style.display="none"};this.submit=function(j){if(this.isRequesting){return false}var c=this.elements.writeInput.value;c=me2p.Util.trim(c);if(c!=""){this.isRequesting=true;this.dialog.button.onBeforePost();var k=c.replace(/\n/g," ");var b=me2p.Service.APIUrl.comment;var h=this.dialog.button;var g=me2p.Service.getWebPageInfo();var d={body:k,plugin_key:h.pluginKey,pingback:this.elements.pingbackCheckbox.checked,url:h.url,security_token:g.securityToken[h.url]};var e=me2p.Util.fn(function(m){var l=m;if(l.code=="0"){var n=me2p.Service.getWebPageInfo();var o;var p="";try{if(n.ownerUser){o=me2p.Util.Template(me2p.MessageTemplate.M006);p=o.process({nickname:n.ownerUser.nickname,userId:n.ownerUser.userId,permalink:l.result.postInfo.permalink})}else{o=me2p.Util.Template(me2p.MessageTemplate2.M006);p=o.process({permalink:l.result.postInfo.permalink})}}catch(q){o=me2p.Util.Template(me2p.MessageTemplate2.M019);p=o.process({message:q.message})}this.dialog.updateMessage(p);this.elements.writeInput.value="";this.dialog.button.onAfterPost()}else{this.dialog.updateMessage(l.message)}this.close();this.isRequesting=false},this).bind();var f=me2p.Util.fn(function(){this.isMetooRequesting=false;this.dialog.showDefaultError()},this).bind();me2p.Service.writeComment(d,e,f)}me2p.Util.stopDefaultEvent(j);return false};this.$init()};me2p.Messenger={bInitialed:false,flashUrl:"http://static.plugin.me2day.com/swf/NDomainBridge.swf",flashVer:"1.0.4",flashConnectId:null,fId:null,origin:"http://"+me2p_config_loginProxyDomain,bInitialed:false,retryCount:0,isPostMessageSupported:function(){return window.postMessage?true:false},Sender:function(a){this.$init=function(){if(me2p.Messenger.isPostMessageSupported()){me2p.Messenger.bInitialed=true}else{me2p.Messenger.flashConnectId=a;this.initSenderFlash()}};this.initSenderFlash=function(){var b={};b.initParams='{"prefix": "sender_", "type": 1}';var e={};e.wmode="window";e.allowScriptAccess="always";e.color="#FFFFFF";e.flashVars=b;var d=nhn.FlashObject.generateTag(me2p.Messenger.flashUrl+"?sender"+me2p.Messenger.flashVer,"DomainBridgeSender","1","1",e);var c=document.createElement("div");c.style.position="absolute";c.style.top="-1000px";c.style.left="-1000px";document.body.appendChild(c);c.innerHTML=d};this.sendMessage=function(b,d){if(!me2p.Messenger.bInitialed){setTimeout(me2p.Util.fn(function(){this.sendMessage(b,d)},this).bind(),200);return false}var c={methodName:b,methodParam:me2p.Util.jsonToString(d)};c=me2p.Util.jsonToString(c);if(me2p.Messenger.isPostMessageSupported()){window.parent.postMessage(c,"*")}else{sendNotification(c)}};this.$init()},Receiver:function(){this.$init=function(){if(me2p.Messenger.isPostMessageSupported()){var fn=me2p.Util.fn(this.receiveMessage,this).bind();window.addEventListener?window.addEventListener("message",fn,false):window.attachEvent("onmessage",fn);me2p.Messenger.bInitialed=true}else{me2p.Messenger.flashConnectId="fId"+me2p.Util.getUinqId();this.initReceiverFlash()}};this.receiveMessage=function(event){if(!event){return}if(event.origin!==me2p.Messenger.origin){return}var oData=me2p.Util.toJson(event.data);try{eval(oData.methodName+"("+me2p.Util.jsonToString(oData.methodParam)+")")}catch(e){window._me2p_debug=oData;me2p.log("receiveMessage="+e)}};this.initReceiverFlash=function(){var flashVarsObj={};flashVarsObj.initParams='{"prefix": "receiver_", "type": 0}';var obj={};obj.wmode="window";obj.allowScriptAccess="always";obj.color="#FFFFFF";obj.flashVars=flashVarsObj;var flashTag=nhn.FlashObject.generateTag(me2p.Messenger.flashUrl+"?receiver"+me2p.Messenger.flashVer,"DomainBridgeReceiver","1","1",obj);var flashWrapper=document.createElement("div");flashWrapper.style.position="absolute";flashWrapper.style.top="-1000px";flashWrapper.style.left="-1000px";document.body.appendChild(flashWrapper);flashWrapper.innerHTML=flashTag};this.$init()}};me2p.Service={APIUrl:{webPageInfo:"http://plugin.me2day.net/v1/plugin/"+(me2p_config_charset=="euc-kr"?"get_webpage_info_euckr.json":"get_webpage_info.json"),metoo:"http://plugin.me2day.net/v1/metoo/"+(me2p_config_charset=="euc-kr"?"metoo_euckr.json":"metoo.json"),comment:"http://plugin.me2day.net/v1/comment/create_comment.json",login:"http://me2day.net/account/login?login_from=plugin",loginProxy:"http://"+me2p_config_loginProxyDomain+"/html/naver/login_proxy.html",loginComplete:"http://"+me2p_config_loginProxyDomain+"/html/naver/login_complete.html"},webPageInfoParams:null,afterGetWebPageInfoAction:{},createdId:null,webPageInfo:{loginUser:{},ownerUser:{},postInfoList:[],securityToken:{},postInfoMap:{}},errorResponse:null,isWpRequesting:false,createdId:null,isLoggedIn:function(){return(this.webPageInfo.loginUser&&this.webPageInfo.loginUser.userId)
},getWebPageInfo:function(){return this.webPageInfo},requestWebPageInfo:function(b,c){if(this.isWpRequesting){return false}else{this.isWpRequesting=true}var a=this.APIUrl.webPageInfo;if(b){if(typeof b!="string"){this.webPageInfoParams=me2p.Util.hashToQueryString(hsParams)}else{this.webPageInfoParams=b}}if(a.indexOf("?")!=-1){a+=("&"+this.webPageInfoParams)}else{a+=("?"+this.webPageInfoParams)}if(c){this.afterGetWebPageInfoAction.updateUI=c}me2p.Util.requestJsonp(a,me2p.Util.fn(this._requestWebPageInfoOnSuccess,this).bind())},_requestWebPageInfoOnSuccess:function(d){var c=d;if(c.code=="0"){this.errorResponse=null;this.webPageInfo=c.result;if(!this.isToolbarChecked){this.checkToolbar(c.result)}this.webPageInfo.postInfoMap=this.webPageInfo.postInfoMap||{};if(this.webPageInfo.postInfoList){for(var g=0,a=this.webPageInfo.postInfoList.length;g<a;g++){this.webPageInfo.postInfoMap[this.webPageInfo.postInfoList[g].url]=this.webPageInfo.postInfoList[g]}}if(!this.webPageInfo.loginUser){this.webPageInfo.loginUser={}}if(this.createdId){this.webPageInfo.loginUser.createdId=this.createdId;this.createdId=null}if(this.afterGetWebPageInfoAction){for(var h in this.afterGetWebPageInfoAction){try{this.afterGetWebPageInfoAction[h](c)}catch(j){}}}this.afterGetWebPageInfoAction=[]}else{if(this.afterGetWebPageInfoAction.updateUI){this.afterGetWebPageInfoAction.updateUI()}for(var b in c){me2p.log(b+"="+c[b])}this.errorResponse=c}this.isWpRequesting=false;if(!me2p.Main.isWebPageInfoRequested){me2p.Main.isWebPageInfoRequested=true}},updatePostInfo:function(b){var c=false;for(var a in this.webPageInfo.postInfoList){if(this.webPageInfo.postInfoList[a].url==b.url){this.webPageInfo.postInfoList[a]=b;c=true}}if(!c){this.webPageInfo.postInfoList.push(b)}this.webPageInfo.postInfoMap[b.url]=b},requestMetoo:function(c,e,b){var a=this.APIUrl.metoo;var d="";if(typeof c!="string"){d=me2p.Util.hashToQueryString(c)}else{d=c}if(a.indexOf("?")!=-1){a+=("&"+d)}else{a+=("?"+d)}me2p.Util.requestJsonp(a,e,b)},writeComment:function(c,e,b){var a=this.APIUrl.comment;var d="";if(typeof c!="string"){d=me2p.Util.hashToQueryString(c)}else{d=c}if(a.indexOf("?")!=-1){a+=("&"+d)}else{a+=("?"+d)}me2p.Util.requestJsonp(a,e,b)},isToolbarChecked:false,checkToolbar:function(d){var b=null;function h(m){if(!m){return 0}var e=0;for(var l in m){if((l+"").indexOf("http:")!=-1){e++;b=l}}return e}this.isToolbarChecked=true;if(h(d.securityToken)!=1){return}var k=null;if(d.postInfoList&&d.postInfoList.length>0){k=d.postInfoList[0]}var j=null;try{if(window.ActiveXObject){j=new ActiveXObject("NaverToolbar.Me2API")}}catch(g){}try{if(window.ActiveXObject&&j){var a=d.securityToken[b];var f=k?k.metooCount:0;var c=k?k.metooStatus:9;console.log("NaverToolbar.Me2API > NaverToolbar.UpdateMetooInfo() called. ");console.log("url="+b);console.log("pluginKey="+me2p.MetooHandler.pluginKey);console.log("securityToken="+a);console.log("metooCount="+f);console.log("metooStatus="+c);j.UpdateMetooInfo(b,me2p.MetooHandler.pluginKey,a,f,c)}}catch(g){}}};me2p.Util={EmptyFunction:new Function(),requestJsonp:function(b,g,a){var c=document.head?document.head:document.getElementsByTagName("head")[0];var d=document.createElement("script");var e="me2p_"+new Date().getTime();var f=(typeof a=="function")?setTimeout(a,5000):null;window[e]=function(){if(f){clearInterval(f)}g.apply(null,arguments);window[e]=null;c.removeChild(d)};if(b.indexOf("?")!=-1){b+="&_callback=window."+e}else{b+="?_callback=window."+e}d.src=b;d.charset=me2p_config_charset;c.appendChild(d)},queryStringToHash:function(c){if(c==""){return{}}var h=c.split(/&/g),j,k,b,a={},f=false;for(var d=0;d<h.length;d++){k=h[d].substring(0,j=h[d].indexOf("=")),f=false;try{b=decodeURIComponent(h[d].substring(j+1))}catch(g){f=true;b=decodeURIComponent(unescape(h[d].substring(j+1)))}if(k.substr(k.length-2,2)=="[]"){k=k.substring(0,k.length-2);if(typeof a[k]=="undefined"){a[k]=[]}a[k][a[k].length]=f?escape(b):b}else{a[k]=f?escape(b):b}}return a},hashToQueryString:function(d){var c=[],e=null,a=0;for(var b in d){if(d.hasOwnProperty(b)){if(typeof(e=d[b])=="object"&&(e&&e.constructor==Array)){for(i=0;
i<e.length;i++){c[c.length]=encodeURIComponent(b)+"[]="+encodeURIComponent(e[i]+"")}}else{c[c.length]=encodeURIComponent(b)+"="+encodeURIComponent(d[b]+"")}}}return c.join("&")},numberWithDelimiter:function(c,a){c=c+"",a=a||",";var b=c.split(".");b[0]=b[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+a);return b.join(".")},fn:function(func,thisObject){var cl=arguments.callee;if(func instanceof cl){return func}if(!(this instanceof cl)){return new cl(func,thisObject)}this._events=[];this._tmpElm=null;this._key=null;if(typeof func=="function"){this._func=func;this._this=thisObject}else{if(typeof func=="string"&&typeof thisObject=="string"){this._func=eval("false||function("+func+"){"+thisObject+"}")}}},Template:function(d){var c=null,a="";var b=arguments.callee;if(d instanceof b){return d}if(!(this instanceof b)){return new b(d)}if(typeof d=="undefined"){d=""}else{if((c=document.getElementById(d)||d)&&c.tagName&&(a=c.tagName.toUpperCase())&&(a=="TEXTAREA"||(a=="SCRIPT"&&c.getAttribute("type")=="text/template"))){d=(c.value||c.innerHTML).replace(/^\s+|\s+$/g,"")}}this._str=d+""},getUinqId:function(){var a=function(){return"Uniq_"+Math.random().toString().replace(/0\./,"")};var b=a();while(document.getElementById(b)){b=a()}return b},strToJson:function(sObject){try{if(/^(?:\s*)[\{\[]/.test(sObject)){sObject=eval("("+sObject+")")}else{sObject=sObject}}catch(e){sObject={}}return sObject},toJson:function(a){if(!a){return{}}if(typeof a=="string"){return this.strToJson(a)}return a},jsonToString:function(a){var b={$:function(c){if(typeof c=="object"&&c==null){return"null"}if(typeof c=="undefined"){return'""'}if(typeof c=="boolean"){return c?"true":"false"}if(typeof c=="string"){return this.s(c)}if(typeof c=="number"){return c}if(c instanceof Array){return this.a(c)}if(c instanceof Object){return this.o(c)}},s:function(d){var f={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","\t":"\\t"};var g=function(c){return(typeof f[c]!="undefined")?f[c]:c};return'"'+d.replace(/[\\"'\n\r\t]/g,g)+'"'},a:function(d){var f="[",h="",g=d.length;for(var e=0;e<g;e++){if(typeof d[e]=="function"){continue}f+=h+this.$(d[e]);if(!h){h=","}}return f+"]"},o:function(f){var e="{",g="";for(var d in f){if(f.hasOwnProperty(d)){if(typeof f[d]=="function"){continue}e+=g+this.s(d)+":"+this.$(f[d]);if(!g){g=","}}}return e+"}"}};if(window.JSON&&window.JSON.stringify){return window.JSON.stringify(a)}else{return b.$(a)}},hasClass:function(a,b){return new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)},addClass:function(a,b){if(!this.hasClass(a,b)){a.className+=" "+b}},removeClass:function(a,b){if(this.hasClass(a,b)){a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/\s+/g," ").replace(/^\s|\s$/,"")}},attachEvent:function(f,d,b,a){if(f.addEventListener){f.addEventListener(d,b,a);return true}else{if(f.attachEvent){var c=f.attachEvent("on"+d,b);return c}else{console.log("Browser Does Not Full Support Event Handling");var e=f["on"+d];f["on"+d]=function(){b();if(e){e()}};return true}}},trim:function(a){if(a){return a.replace(/^\s+|\s+$/g,"")}else{return""}},stopDefaultEvent:function(a){if(!a){return false}if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}}};me2p.Util.fn.prototype.bind=function(){var d=arguments;var g=this._func;var e=this._this;var c=function(){var a=arguments;if(d.length){a=d.concat(a)}return g.apply(e,a)};return c};me2p.Util.Template.splitter=/(?!\\)[\{\}]/g;me2p.Util.Template.pattern=/^(?:if (.+)|elseif (.+)|for (?:(.+)\:)?(.+) in (.+)|(else)|\/(if|for)|=(.+)|js (.+)|set (.+))$/;me2p.Util.Template.prototype.process=function(data){if(!data){data={}}var key="\x01";var leftBrace="\x02";var rightBrace="\x03";var tpl=(" "+this._str+" ").replace(/\\{/g,leftBrace).replace(/\\}/g,rightBrace).replace(/(?!\\)\}\{/g,"}"+key+"{").split(me2p.Util.Template.splitter),i=tpl.length;var map={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","\t":"\\t","\f":"\\f"};var reg=[/(["'](?:(?:\\.)+|[^\\["']+)*["']|[a-zA-Z_][\w\.]*)/g,/[\n\r\t\f"\\]/g,/^\s+/,/\s+$/,/#/g];var cb=[function(m){return(m.substring(0,1)=='"'||m.substring(0,1)=="'"||m=="null")?m:"d."+m
},function(m){return map[m]||m},"",""];var stm=[];var lev=0;tpl[0]=tpl[0].substr(1);tpl[i-1]=tpl[i-1].substr(0,tpl[i-1].length-1);if(i<2){return tpl[0]}tpl=tpl;var delete_info;while(i--){if(i%2){tpl[i]=tpl[i].replace(me2p.Util.Template.pattern,function(){var m=arguments;if(m[10]){return m[10].replace(/(\w+)(?:\s*)=(?:\s*)(?:([a-zA-Z0-9_]+)|(.+))$/g,function(){var mm=arguments;var str="d."+mm[1]+"=";if(mm[2]){str+="d."+mm[2]}else{str+=mm[3].replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(m){return(m.substring(0,1)=="=")?"d."+m.replace("=",""):m})}return str})+";"}if(m[9]){return"s[i++]="+m[9].replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(m){return(m.substring(0,1)=="=")?"d."+m.replace("=",""):m})+";"}if(m[8]){return"s[i++]= d."+m[8]+";"}if(m[1]){return"if("+m[1].replace(reg[0],cb[0]).replace(/d\.(typeof) /,"$1 ").replace(/ d\.(instanceof) d\./," $1 ")+"){"}if(m[2]){return"}else if("+m[2].replace(reg[0],cb[0]).replace(/d\.(typeof) /,"$1 ").replace(/ d\.(instanceof) d\./," $1 ")+"){"}if(m[5]){delete_info=m[4];var _aStr=[];_aStr.push("var t#=d."+m[5]+"||{},p#=isArray(t#),i#=0;");_aStr.push("for(var x# in t#){");_aStr.push("if(!t#.hasOwnProperty(x#)){continue;}");_aStr.push("  if( (p# && isNaN(i#=parseInt(x#,10))) || (!p# && !t#.propertyIsEnumerable(x#)) ) continue;");_aStr.push("  d."+m[4]+"=t#[x#];");_aStr.push(m[3]?"d."+m[3]+"=p#?i#:x#;":"");return _aStr.join("").replace(reg[4],lev++)}if(m[6]){return"}else{"}if(m[7]){if(m[7]=="for"){return"delete d."+delete_info+"; };"}else{return"};"}}return m[0]})}else{if(tpl[i]==key){tpl[i]=""}else{if(tpl[i]){tpl[i]='s[i++]="'+tpl[i].replace(reg[1],cb[1])+'";'}}}}tpl=tpl.join("").replace(new RegExp(leftBrace,"g"),"{").replace(new RegExp(rightBrace,"g"),"}");var _aStr=[];_aStr.push("var s=[],i=0;");_aStr.push('function isArray(o){ return Object.prototype.toString.call(o) == "[object Array]" };');_aStr.push(tpl);_aStr.push('return s.join("");');tpl=eval("false||function(d){"+_aStr.join("")+"}");tpl=tpl(data);return tpl};me2p.LoginHelper=function(){this.messengerFrame=null;this.divContainer=null;this.openLoginWindow=function(c,b){var a=me2p.Service.APIUrl.loginComplete+"?"+me2p.Util.hashToQueryString(c);var d="hide_back_button=true&redirect_url="+encodeURIComponent(a);setTimeout(me2p.Util.fn(function(){me2p.Service.afterGetWebPageInfoAction.onLoginSuccess=b},this).bind(),1000);if(me2p.Messenger.flashConnectId){d+="&fId="+me2p.Messenger.flashConnectId}this.messengerFrame=document.createElement("iframe");this.messengerFrame.src=me2p.Service.APIUrl.loginProxy+"?"+d;this.divContainer=document.createElement("div");this.divContainer.style.position="absolute";this.divContainer.style.top="0px";this.divContainer.style.left="-10000px";this.divContainer.appendChild(this.messengerFrame);document.body.appendChild(this.divContainer)},this.gotoLoginPage=function(b){var c="redirect_url="+encodeURIComponent("http://plugin.me2day.net/mobile/metoo/metoo.nhn?"+me2p.Util.hashToQueryString(b));var a=me2p.Service.APIUrl.login+"&"+c;top.location.href=a}};if(typeof nhn=="undefined"){nhn={}}nhn.FlashObject=(function(){var g={};var m="F"+new Date().getTime()+parseInt(Math.random()*1000000);var q=/MSIE/i.test(navigator.userAgent);var p=/FireFox/i.test(navigator.userAgent);var d=/Chrome/i.test(navigator.userAgent);var r="className, style, __flashID, classid, codebase, class, width, height, name, src, align, id, type, object, embed, movie, forwardInstall, requireVersion";var b=(navigator.appVersion.toLowerCase().indexOf("win")!=-1)?true:false;var s=(navigator.userAgent.indexOf("Opera")!=-1)?true:false;var e=function(z){var v,x,y;if(z==null){z=25}try{x=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");v=x.GetVariable("$version");if(v){return f(v)}}catch(y){}for(var w=z;w>0;w--){try{x=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+w);v=x.GetVariable("$version")}catch(y){continue}if(v){return f(v)}}return -1};var f=function(w){var v=w.split(" ")[1].split(",");return{major:v[0],minor:v[1],revision:v[2]}};var c=function(w){var y=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var B=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";
var C=navigator.plugins["Shockwave Flash"+B].description;var x=C.split(" ");var z=x[2].split(".");var v=z[0];var D=z[1];var A=x[3];if(A==""){A=x[4]}if(A[0]=="d"){A=A.substring(1)}else{if(A[0]=="r"){A=A.substring(1);if(A.indexOf("d")>0){A=A.substring(0,A.indexOf("d"))}}}y={major:v,minor:D,revision:A}}}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1){y=4}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1){y=3}else{if(navigator.userAgent.toLowerCase().indexOf("webtv")!=-1){y=2}else{if(q&&b&&!s){y=e(w)}}}}}return y};var n=function(x,w,v){version=c(x);if(version==-1){return false}else{if(version!=0){if(version.major>parseFloat(x)){return true}else{if(version.major==parseFloat(x)){if(version.minor>parseFloat(w)){return true}else{if(version.minor==parseFloat(w)){if(version.revision>=parseFloat(v)){return true}}}}}return false}}};var a=function(){alert("default install run")};var u=function(v,x,w){if(typeof v.attachEvent!="undefined"){v.attachEvent("on"+x,w)}else{v.addEventListener(x,w,true)}};var h=function(v,x){var y="";var B=true;var w="";var z;for(var A in v){if(B){B=false}else{y+=x}z=v[A];switch(typeof(z)){case"string":y+=A+"="+encodeURIComponent(z);break;case"number":y+=A+"="+encodeURIComponent(z.toString());break;case"boolean":y+=A+"="+(z?"true":"false");break;default:}}return y};var o=function(){obj=document.getElementsByTagName("OBJECT");for(var w=0,v;v=obj[w];w++){v.style.display="none";for(var y in v){if(typeof(v[y])=="function"){try{if(v.hasOwnProperty(y)){v[y]=null}}catch(x){}}}}};var j=function(z){z=z||window.event;var y=z.wheelDelta/(d?360:120);if(!y){y=-z.detail/3}var w=z.target||z.srcElement;if(!(new RegExp("(^|\b)"+m+"_([a-z0-9_$]+)(\b|$)","i").test(w.className))){return}var v=RegExp.$2;var B="layerX" in z?z.layerX:z.offsetX;var A="layerY" in z?z.layerY:z.offsetY;try{if(!w[v](y,B,A)){if(z.preventDefault){z.preventDefault()}else{z.returnValue=false}}}catch(x){}};var l=function(w){var x=null;var z=/Safari/.test(navigator.userAgent);var v=/MSIE/.test(navigator.userAgent);var A=function(C){var B={left:0,top:0};if(C.parentNode.tagName.toLowerCase()=="object"){C=C.parentNode}for(var E=C,D=E.offsetParent;E=E.parentNode;){if(E.offsetParent){B.left-=E.scrollLeft;B.top-=E.scrollTop}if(E==D){B.left+=C.offsetLeft+E.clientLeft;B.top+=C.offsetTop+E.clientTop;if(!E.offsetParent){B.left+=E.offsetLeft;B.top+=E.offsetTop}D=E.offsetParent;C=E}}return B};var y=function(C){var B={left:0,top:0};for(var D=C;D;D=D.offsetParent){B.left+=D.offsetLeft;B.top+=D.offsetTop}for(var D=C.parentNode;D;D=D.parentNode){if(D.tagName=="BODY"){break}if(D.tagName=="TR"){B.top+=2}B.left-=D.scrollLeft;B.top-=D.scrollTop}return B};return(z?A:y)(w)};var t=function(){var v=/MSIE/.test(navigator.userAgent);if(v){var x=document.documentElement.scrollLeft||document.body.scrollLeft;var w=document.documentElement.scrollTop||document.body.scrollTop;return{scrollX:x,scrollY:w}}else{return{scrollX:window.pageXOffset,scrollY:window.pageYOffset}}};var k=function(){var v=/MSIE/.test(navigator.userAgent);var w={};if(v){w.nInnerWidth=document.documentElement.clientWidth||document.body.clientWidth;w.nInnerHeight=document.documentElement.clientHeight||document.body.clientHeight}else{w.nInnerWidth=window.innerWidth;w.nInnerHeight=window.innerHeight}return w};g.showAt=function(v,w){document.getElementById(v).innerHTML=w};g.show=function(y,z,A,C,v,B,x){if(v&&v.requireVersion){var w=v.requireVersion.split(".");var D=n(w[0],w[1],w[2]);if(!D){if(v.forwardInstall){v.forwardInstall()}else{a()}return null}}document.write(g.generateTag(y,z,A,C,v,B,x))};g.generateTag=function(D,E,F,I,w,G,A){F=F||"100%";I=I||"100%";A=A||"9,0,0,0";G=G||"middle";var H=g.getDefaultOption();if(w){if(w.flashVars){if(typeof(w.flashVars)=="object"){w.flashVars=h(w.flashVars,"&")}w.flashVars+="&"}else{w.flashVars=""}w.flashVars+="__flashID="+E;for(var J in w){if(r.indexOf(J)>=0){continue}H[J]=w[J]}}var K="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000";var z="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+A;var x="position:relative !important;";
var y=m+"_"+H.wheelHandler;var B=[];var v=[];B.push('<object classid="'+K+'" codebase="'+z+'" class="'+y+'" style="'+x+'" " width="'+F+'" height="'+I+'" id="'+E+'" align="'+G+'">');B.push('<param name="movie" value="'+D+'" />');v.push('<embed width="'+F+'" height="'+I+'" name="'+E+'" class="'+y+'" style="'+x+'" " src="'+D+'" align="'+G+'" ');for(var C in H){B.push('<param name="'+C+'" value="'+H[C]+'" />');v.push(C+'="'+H[C]+'" ')}v.push('type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />');B.push(v.join(""));B.push("</object>");if(u){u(window,"unload",o);u(document,!p?"mousewheel":"DOMMouseScroll",j);u=null}return(q)?B.join(""):v.join("")};g.getDefaultOption=function(){return{quality:"high",bgColor:"#FFFFFF",allowScriptAccess:"always",wmode:"window",menu:"false",allowFullScreen:"true",wheelHandler:"messenger"}};g.find=function(w,v){v=v||document;return v[w]||v.all[w]};g.getPlayerVersion=function(){return c()};g.setWidth=function(v,w){g.find(v).width=w};g.setHeight=function(v,w){g.find(v).height=w};g.setSize=function(x,w,v){g.find(x).height=v;g.find(x).width=w};g.getPositionObj=function(w){var x=g.find(w);if(x==null){return null}var v=l(x);var y=t();var z={};z.absoluteX=v.left;z.absoluteY=v.top;z.scrolledX=z.absoluteX-y.scrollX;z.scrolledY=z.absoluteY-y.scrollY;z.browserWidth=k().nInnerWidth;return z};g.getSSCLogParam=function(){var v=[];if(window.g_ssc){v.push("ssc="+g_ssc)}else{v.push("ssc=decide.me")}if(window.g_pid){v.push("&p="+g_pid)}if(window.g_query){v.push("&q="+encodeURIComponent(g_query))}if(window.g_sid){v.push("&s="+g_sid)}return v.join("")};return g})();function receiver_init(b){if(!me2p.Messenger){me2p.log("receiver messenger initialize not yet");return}else{}var c=me2p.Messenger.flashConnectId;var a=nhn.FlashObject.find(b);a.connect(c);me2p.Messenger.bInitialed=true}function receiver_error(a,b){me2p.log("receiver_error : name = "+a+", message = "+b)}function sender_init(b){if(!me2p.Messenger){me2p.log("sender messenger initialize not yet");return}var c=me2p.Messenger.flashConnectId;var a=nhn.FlashObject.find(b);a.connect(c);me2p.Messenger.bInitialed=true}function sender_error(a,b){}function sendNotification(b){var a=nhn.FlashObject.find("DomainBridgeSender");a.sendNotification(b)}me2p.options={};me2p.parseElements=function(){me2p.Main.parsePluginElements()};me2p.updateElements=function(){me2p.Main.createParams();me2p.Main.reqWebPageInfoAndUpdateUI();if(!me2p_config_isMobile){me2p.Main.initMessenger()}};me2p.updateElementsForCallback=function(a){me2p.Main.createParams();me2p.Service.afterGetWebPageInfoAction.callback_DA=a;me2p.Service.requestWebPageInfo(me2p.Main.webPageInfoParams,null);if(!me2p_config_isMobile){me2p.Main.initMessenger()}};me2p.setOptions=function(a){var a=(!a)?{}:a;if(typeof a.request_api=="undefined"){a.request_api=true}if(typeof a.message_template=="undefined"){a.message_template=1}me2p.options.request_api=a.request_api;me2p.options.message_template=a.message_template};me2p.setMessageTemplate=function(){if(me2p.options.message_template==3){me2p.MessageTemplate=me2p.MessageTemplate_DA;me2p.MessageTemplate2=me2p.MessageTemplate_DA}};me2p.initialize=function(a){me2p.setOptions(a);me2p.setMessageTemplate();me2p.parseElements();if(me2p.options.request_api){me2p.updateElements()}};me2p.Main={messenger:null,title:null,webPageInfoParams:null,urlMap:{},isWebPageInfoRequested:false,parsePluginElements:function(){var f=function(){me2p.Main.urlMap={};me2p.MetooHandler.reset()};f();var g=document.getElementsByTagName("meta");var h;for(var d=0,c=g.length;d<c;d++){if(g[d].getAttribute("property")=="me2:title"){h=g[d].content}}if(!h){for(var d=0,c=g.length;d<c;d++){if(g[d].getAttribute("property")=="og:title"){h=g[d].content}}}if(!h){h=document.title}this.title=h;var b=me2p.Sizzle("."+me2p.ElementClassNames.BUTTON_CONTAINER);for(var e=0,c=b.length;e<c;e++){var a=b[e].getAttribute(me2p.AttributeNames.URL);this.urlMap[a]=true}for(var a in this.urlMap){var j=me2p.Sizzle("."+me2p.ElementClassNames.BUTTON_CONTAINER+"["+me2p.AttributeNames.URL+"='"+a+"']");for(var e=0,c=j.length;
e<c;e++){me2p.MetooHandler.register(j[e],a,e)}}},createParams:function(){var e="";var b=[];for(var c in this.urlMap){if(c.indexOf("http")<0){continue}b.push(c)}for(var d=0,a=b.length;d<a;d++){e+=("url="+encodeURIComponent(b[d])+(d==(a-1)?"":"&"))}if(e==""){return}if(me2p.MetooHandler.pluginKey){e+="&plugin_key="+encodeURIComponent(me2p.MetooHandler.pluginKey)}e+="&plugin_referer="+encodeURIComponent(location.href);this.webPageInfoParams=e},reqWebPageInfoAndUpdateUI:function(a){if(a){a=me2p.Util.toJson(a);if(a.createdId){me2p.Service.createdId=a.createdId}}var b=me2p.Util.fn(function(){me2p.MetooHandler.updateAll()},this).bind();me2p.Service.requestWebPageInfo(this.webPageInfoParams,b)},initMessenger:function(){if(this.messenger==null){this.messenger=new me2p.Messenger.Receiver()}},receiverTest:function(a){me2p.log("receiverTest="+a)},showError:function(a){a=me2p.Util.toJson(a);if(a.error=="8000"){alert(me2p.MessageText["8000"])}else{alert(me2p.MessageText["016"])}return}};if(me2p_config_autoRender){me2p.Util.attachEvent(window,"load",me2p.initialize)};